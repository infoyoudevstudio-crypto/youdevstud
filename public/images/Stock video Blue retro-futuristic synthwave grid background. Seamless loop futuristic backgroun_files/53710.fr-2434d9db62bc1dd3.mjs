(self.modernJsonp=self.modernJsonp||[]).push([["53710"],{821622(e,t,i){var a,r;i.r(t),i.d(t,{default:()=>l});let o=(r=[a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CallToAction_advisoryAction",selections:[{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:r,storageKey:null}],type:"AdvisoryAction",abstractKey:null});o.hash="6ddea2ecd3dff2e1001c1e4d037cc858";let l=o},889816(e,t,i){i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DefaultNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:null,kind:"FragmentSpread",name:"CallToAction_advisoryAction"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],type:"AdvisoryNotice",abstractKey:null};a.hash="5879c4710b107f258f42156bf3e47e37";let r=a},188643(e,t,i){i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:{plural:!0},name:"HyperlinkFormatText_textTag",selections:[{alias:null,args:null,kind:"ScalarField",name:"length",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"offset",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"tagType",storageKey:null}],type:"TextTag",abstractKey:null};a.hash="4970946a36017d9ad0c751fd70cc512c";let r=a},109982(e,t,i){var a,r,o;i.r(t),i.d(t,{default:()=>n});let l=(r=[{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],o=[a],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LegoNotice_advisoryNotice",selections:[{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:[a,{alias:null,args:null,concreteType:"TextTag",kind:"LinkedField",name:"textTags",plural:!0,selections:[{args:null,kind:"FragmentSpread",name:"HyperlinkFormatText_textTag"}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"AdvisoryFooter",kind:"LinkedField",name:"footer",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryAction",kind:"LinkedField",name:"actions",plural:!0,selections:[{alias:"actionId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"AdvisoryButton",kind:"LinkedField",name:"button",plural:!1,selections:r,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"description",plural:!1,selections:o,storageKey:null},{alias:null,args:null,concreteType:"AdvisoryRichText",kind:"LinkedField",name:"title",plural:!1,selections:o,storageKey:null}],storageKey:null}],type:"AdvisoryNotice",abstractKey:null});l.hash="fa2efeb6b4c660680d9f3a0e156c8007";let n=l},763327(e,t,i){i.r(t),i.d(t,{default:()=>r});let a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"hasSensitivityNotices_sensitivity",selections:[{alias:null,args:null,concreteType:"AdvisoryNotice",kind:"LinkedField",name:"notices",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advisory",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"severity",storageKey:null}],type:"Sensitivity",abstractKey:null};a.hash="547e5abdb645851996d6a1b1a4027c56";let r=a},916572(e,t,i){i.d(t,{Q:()=>v,x:()=>A});var a=i(859471),r=i(168403),o=i(217681),l=i(672375),n=i(50001),s=i(371934),d=i(752422),c=i(450024),u=i(540279),_=i(193599),p=i(767216),h=i(526302),f=i(606815),m=i(866804),g=i(562615);let b=(e,t,i)=>{let a=t?.find(({action:e})=>e?.filter?.product_filter_type===i);if(!a)return;let r=(0,f.A)(m.A,!0)(a),o=e.findIndex(({action:e})=>e?.filter?.productFilterType===i);e[o]?e[o]=r:e.push(r)},y=(e,t,i,a)=>{let r=a.find(({action:t})=>"number"==typeof t?.filter?.productFilterType&&e.has(t.filter.productFilterType));if(r?.action?.filter){let e=r.action.filter.filterOptions;r.action.filter.appliedFilterOptions="string"==typeof t?e?.filter(e=>e?.[i]&&t.split(",").includes(String(e[i]))).map(e=>({...e,selected:!0})):[]}},{Provider:x,get:A}=(0,p.A)("OneBarProductFilters");function v({children:e}){let[t,i]=(0,a.useState)([]),[p,f]=(0,a.useState)(null),m=function(){let{scope:e}=(0,n.u)();return[l.cO.BOARDS,l.cO.PINS_BUYABLE,l.cO.PINS_VIDEO,l.cO.USERS].includes(e)}(),A=(0,u.A)(),v=(0,d.A)(),w=(0,r.A)(),j=(0,o.A)(),P=(0,c.A)(),B=(0,a.useCallback)(({oneBarModules:e,baseCacheKey:a})=>{let r=e?.filter(({module_type:e})=>17===e||0===e);if(!r||r?.length===0||!a)return;let o=a!==p,l=o?[]:t;(o||!m)&&b(l,r,4),(o||!A)&&b(l,r,1),(o||!v)&&b(l,r,0),(o||!w)&&b(l,r,3),(o||!j)&&b(l,r,6),(o||!P)&&[7,8,9].forEach(e=>{b(l,r,e)}),(0,h.Ay)(l,t)||(i(l),f(a))},[t,w,j,m,v,P,A,p]),S=(0,s.A)(),{priceMax:C,priceMin:z,scope:I,brands:T,onSale:E,colors:k,domains:O}=(0,n.u)();(0,a.useEffect)(()=>{if(!S||0===t.length)return;let e=(0,_.A)(t);if(I!==l.cO.PINS){let t=(0,l.Ef)(I),i=e.find(({moduleType:e})=>0===e);i?.action?.filter&&(i.action.filter.appliedFilterOptions=[...i.action.filter.filterOptions||[]].filter(Boolean).map(e=>{let{searchType:i}=e;return{searchType:i,selected:i===t}}))}if("string"==typeof C||"string"==typeof z){let t=e.find(({action:e})=>e?.filter?.productFilterType===1);t?.action?.filter&&(t.action.filter.appliedFilterOptions=[t.action.filter.filterOptions?.[0]?{...t.action.filter.filterOptions[0],numericValue:Number(z)}:null,t.action.filter.filterOptions?.[1]?{...t.action.filter.filterOptions[1],numericValue:Number(C)}:null].filter(Boolean))}y(new Set([3]),T,"stringValue",e),y(new Set([6]),k,"stringValue",e),y(new Set([0]),O,"stringValue",e),y(new Set([7,8,9]),E,"numericValue",e),(0,h.Ay)(e,t)||i(e)},[t,S,C,z,I,T,k,O,E]);let F=(0,a.useMemo)(()=>({cachedProductFilterOneBarModules:t,cacheOneBarModules:B}),[t,B]);return(0,g.jsx)(x,{value:F,children:e})}},846533(e,t,i){i.d(t,{Kq:()=>w,bn:()=>j,N_:()=>P});var a=i(859471),r=i(336032),o=i(460022),l=i(277989);let n=(e,t,i)=>i&&(0,o.BP)(i,t)?r.c.MODIFIED:(0,o.TN)(t,e)||i&&(0,o.oA)(i,e)||(0,o.oA)(t,e)?r.c.CLEARED:r.c.APPLIED;function s(e,t){(0,o.i2)(t);let i=e.find(e=>e?.id===t.id),a=i?.rules,r=i?.filter_options?.find(e=>"selectedOptionId"in t&&e.id===t.selectedOptionId)?.rules||a;if(!r)return[e,[]];let l=[],n=[];return e.forEach(e=>{void 0!==e.product_filter_type&&r.includes(e.product_filter_type)?l.push(e):n.push(e)}),[l,n]}function d(e,t){switch(t.type){case"RESET_FILTERS":let[i,a]=t.payload,d=i,c=(0,l.A)(a)?(0,o.$M)(i):a;return Object.values(c).forEach(e=>{let[t]=s(d,e);d=t}),{models:i,availableFilterModels:d,appliedFilters:a,filters:c,isFetching:!1,pendingDeletedSelections:{},status:n(i,a,c)};case"CLEAR_FILTERS":let u=e.models,_=(0,o.Oj)(e.models);return Object.values(_).forEach(e=>{let[t]=s(u,e);u=t}),{...e,filters:_,availableFilterModels:u,pendingDeletedSelections:{},status:n(e.models,e.appliedFilters,_)};case"UPDATE_FILTER":let{payload:p}=t,[h,f]=s(e.models,p),m={...e.filters,[p.id]:p},g={...e.pendingDeletedSelections};return h.forEach(e=>{if(!e.id)return;let t=g[e.id];t&&(m[e.id]=t,delete g[e.id])}),f.forEach(e=>{if(!e.id)return;let t=m[e.id];t&&(g[e.id]=t,delete m[e.id])}),(0,o.i2)(p,e.models.find(e=>e.id===p.id))&&delete m[p.id],{...e,availableFilterModels:h,filters:m,pendingDeletedSelections:g,status:n(e.models,e.appliedFilters,m)};case"SUBMIT_FILTER":return{...e,pendingDeletedSelections:{},status:r.c.SUBMITTED};case"SUBMIT_FAILED":return{...e,status:r.c.FAILED};case"SUBMIT_COMPLETE":let{filters:b}=e;return{...e,appliedFilters:b,pendingDeletedSelections:{},status:n(e.models,b)};case"LOADING":return{...e,isFetching:!0};case"LOADING_COMPLETED_OR_FAILED":return{...e,isFetching:!1};default:return e}}var c=i(168403),u=i(217681),_=i(752422),p=i(450024),h=i(540279),f=i(526302);let m=new Set([1,0,3,6,7,8,9]),g=(e,t,i)=>{let a=t?.find(({product_filter_type:e})=>e===i);if(!a)return;let r=e.findIndex(({product_filter_type:e})=>e===i);e[r]?e[r]=a:e.push(a)},b=(e,t,i)=>{let a=t?.find(({product_filter_type:e})=>e===i);if(!a)return e;let r=e.findIndex(({product_filter_type:e})=>e===i);return e[r]?e[r]=a:e.push(a),e};var y=i(371934),x=i(767216),A=i(50001),v=i(562615);let{Provider:w,getMaybe:j}=(0,x.A)("UnifiedFiltersContext"),P=({applyInitFilters:e,children:t,filterModels:i,filters:l,isFetching:n,refreshFiltersData:s})=>{let{query:x}=(0,A.u)(),j=(0,y.A)(),{getCachedFilters:P,cacheUnifiedFilterModelsWithProductFilters:B}=function(){let[e,t]=(0,a.useState)([]),[i,r]=(0,a.useState)(null),o=(0,h.A)(),l=(0,_.A)(),n=(0,c.A)(),s=(0,u.A)(),d=(0,p.A)(),y=(0,a.useCallback)(({unifiedFilterModels:a,baseCacheKey:c})=>{let u=a?.filter(({product_filter_type:e})=>void 0!==e&&m.has(e));if(!u||u?.length===0||!c)return;let _=c!==i,p=_?[]:e;(_||!o)&&g(p,u,1),(_||!l)&&g(p,u,0),(_||!n)&&g(p,u,3),(_||!s)&&g(p,u,6),(_||!d)&&[7,8,9].forEach(e=>{g(p,u,e)}),(0,f.Ay)(p,e)||(t(p),r(c))},[e,n,s,l,d,o,i]);return{getCachedFilters:(0,a.useCallback)(t=>{if(!t||t?.length===0)return[];let i=[...t];return o&&(i=b(i,e,1)),l&&(i=b(i,e,0)),n&&(i=b(i,e,3)),s&&(i=b(i,e,6)),d&&[7,8,9].forEach(t=>{i=b(i,e,t)}),i},[e,n,s,l,d,o]),cacheUnifiedFilterModelsWithProductFilters:y}}(),S=e?.(i)||l||{},[C,z]=(0,a.useReducer)(d,{models:i,availableFilterModels:i,appliedFilters:S,filters:S,pendingDeletedSelections:{},isFetching:n,status:(0,o.TN)(S,i)||(0,o.oA)(S,i)?r.c.CLEARED:r.c.APPLIED}),[I,T]=(0,a.useState)(i);(0,a.useEffect)(()=>{n&&z({type:"LOADING"})},[n]),(0,a.useEffect)(()=>{if(n||C.isFetching&&0===i.length)return;if(!(0,o.Sp)(I,i))return void z({type:"LOADING_COMPLETED_OR_FAILED"});let t=i;j||(t=P([...i]),B({unifiedFilterModels:[...i],baseCacheKey:x})),z({type:"RESET_FILTERS",payload:[t,e?.(t)||{}]}),T(i)},[e,i,I,n,C.isFetching,P,B,x,j]);let E=(0,a.useMemo)(()=>({filterState:C,dispatch:z,refreshFiltersData:s}),[C,s]);return(0,v.jsx)(w,{value:E,children:t})}},336032(e,t,i){i.d(t,{c:()=>a});let a={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},743402(e,t,i){i.d(t,{A:()=>c});var a=i(916572),r=i(846533),o=i(460022),l=i(606815),n=i(686322),s=i(822819),d=i(50001);function c(){let{brands:e,colors:t,domains:i,onSale:c,priceMax:u,priceMin:_}=(0,d.u)(),p=(0,r.bn)(),{cachedProductFilterOneBarModules:h}=(0,a.x)(),f=Number((0,s.A)().filter_location);if(1===f){let{filterState:e}=p||{};return e?(0,o.Iz)(e.appliedFilters,e.models):null}if(0===f){let a=(0,l.A)(n.A,!0)(h.map(e=>e.action?.filter).filter(Boolean));return(0,o.th)({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:c,priceMaxParam:u,priceMinParam:_,unifiedFilterModels:a})}return null}},168403(e,t,i){i.d(t,{A:()=>o});var a=i(979638),r=i(218781);function o(){return!!(0,r.A)((0,a.zy)().search).brands}},217681(e,t,i){i.d(t,{A:()=>l});var a=i(979638),r=i(528989),o=i(218781);function l(){let{checkExperiment:e}=(0,r.A)(),t=(0,a.zy)(),{colors:i}=(0,o.A)(t.search);return!!i&&!!e("shopping_onebar_color_filter",{dangerouslySkipActivation:!0}).anyEnabled}},371934(e,t,i){i.d(t,{A:()=>r});var a=i(528989);function r(){let{checkExperiment:e}=(0,a.A)();return e("dweb_search_shopping_filter_sds_dep_removal_v2",{dangerouslySkipActivation:!0}).anyEnabled}},752422(e,t,i){i.d(t,{A:()=>o});var a=i(979638),r=i(218781);function o(){return!!(0,r.A)((0,a.zy)().search).domains}},540279(e,t,i){i.d(t,{A:()=>o});var a=i(979638),r=i(218781);function o(){let e=(0,a.zy)(),{price_max:t,price_min:i}=(0,r.A)(e.search);return!!(i??t)}},460022(e,t,i){i.d(t,{$M:()=>p,A:()=>A,BP:()=>s,CX:()=>j,Iz:()=>y,Oj:()=>h,ST:()=>m,Sp:()=>d,TN:()=>u,Vr:()=>w,b_:()=>b,ch:()=>x,i2:()=>c,oA:()=>_,th:()=>g,vd:()=>v});var a=i(526302),r=i(672375);let o=e=>e.map(({filter_component_type:e,filter_options:t,title:i})=>({filter_component_type:e,filter_options:t?.map(({id:e,label:t,count:i,image_url:a,is_verified:r,numeric_value:o,string_value:l,unit:n})=>({id:e,label:t,count:i,image_url:a,is_verified:r,numeric_value:o,string_value:l,unit:n})),title:i})),l=(e,t)=>{if(!e&&!t)return!1;if(!e||!t)return!0;if("single"===e.type&&"single"===t.type)return e.selectedOptionId!==t.selectedOptionId;if("multi"===e.type&&"multi"===t.type)return!(0,a.Ay)(e.selectedOptionIds,t.selectedOptionIds);if("range"===e.type&&"range"===t.type)return e.min!==t.min||e.max!==t.max;throw Error("Filter type specific return must be specified")},n=e=>!e||!Object.keys(e).length,s=(e,t)=>{if(n(e)&&n(t))return!1;if(n(e)||n(t)||e&&t&&Object.entries(e).length!==Object.entries(t).length)return!0;for(let i in e)if(l(e[i],t?.[i]))return!0;return!1},d=(e,t)=>!(0,a.Ay)(o(e),o(t)),c=(e,t)=>{if("single"===e.type)return!e.selectedOptionId;if("multi"===e.type)return 0===e.selectedOptionIds.size;if("range"===e.type)return!!t?.filter_options&&e.min===t.filter_options[0]?.numeric_value&&e.max===t.filter_options[2]?.numeric_value;throw Error("Filter type specific return must be specified")},u=(e,t)=>{try{for(let i in e){let a=e[i],r=t.find(e=>e.id===a?.id);if(a&&!c(a,r))return!1}return!0}catch(e){return!0}},_=(e,t)=>{if(!t||0===t.length)return!1;let i=t[0];if(!i)return!1;switch(i?.filter_component_type){case 2:let a=i.filter_options?.[0];for(let t in e){let i=e[t];if(!i)break;if("selectedOptionId"in i&&i.selectedOptionId===a?.id)return!0}return!1;case 1:for(let t in e){let a=e[t];if(!a)break;if(a.id===i.id&&"selectedOptionIds"in a&&0===a.selectedOptionIds.size)return!0}return!1;default:return!1}},p=e=>e.map(e=>{switch(e.filter_component_type){case 2:let t=e.filter_options?.find(e=>e.is_selected)?.id;return t?{selectedOptionId:t,id:e.id,type:"single"}:null;case 1:let i=e.filter_options?.filter(e=>e.is_selected).map(({id:e})=>e);return i&&i.length>0?{selectedOptionIds:new Set(i),id:e.id,type:"multi"}:null;default:return null}}).reduce((e,t)=>t?{...e,[t.id]:t}:e,{}),h=e=>{if(!e||0===e.length)return{};let t=e[0];switch(t?.filter_component_type){case 2:let i=t.filter_options?.[0]?.id;return i&&"string"==typeof t.id?{[t.id]:{selectedOptionId:i,lastChangedLocation:1,id:t.id,type:"single"}}:{};case 1:return"string"==typeof t.id?{[t.id]:{selectedOptionIds:new Set,lastChangedLocation:1,id:t.id,type:"multi"}}:{};default:return{}}},f=e=>e.map(e=>{let{filter_id:t,filter_options:i,product_filter_type:a}=e,r=t;return"number"==typeof a&&(r+=`_${a}`),i.length>0&&(r+=":",i.forEach((e,t)=>{let{filter_option_id:a,numeric_value:o,string_value:l,unit:n}=e;r+=`${a}`,"number"==typeof o&&(r+=`_${o}`),"string"==typeof l&&(r+=`_${l}`),"string"==typeof n&&(r+=`_${n}`),t<i.length-1&&(r+=",")})),r}).join("|"),m=({brands:e,colors:t,domains:i,onSale:a,priceMax:o,priceMin:l,scope:n,unifiedFilterModels:s})=>{let d={};for(let{filter_options:c,id:u,product_filter_type:_}of s)if(u&&c?.length){if(1===_&&("number"==typeof l||"number"==typeof o)){let[e,t,i,a]=c,r=l??i?.numeric_value??e?.numeric_value??0,n=o??a?.numeric_value??t?.numeric_value??100;d[u]={min:r,max:n,id:u,type:"range",lastChangedLocation:1}}if(0===_&&i&&i.length>0){let e=i.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(3===_&&e&&e.length>0){let t=e.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);t.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(t),type:"multi"})}if(6===_&&t&&t.length>0){let e=t.map(e=>{let t=c.find(({string_value:t})=>t===e);return t?t.id:null}).filter(Boolean);e.length>0&&(d[u]={id:u,lastChangedLocation:1,selectedOptionIds:new Set(e),type:"multi"})}if(4===_&&n){let e=(0,r.Ef)(n),t=c.find(({search_type:t})=>t===e);t?.id&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:t.id,type:"single"})}if("number"==typeof _&&new Set([7,8,9]).has(_)&&a){let e=c[0]?.id;e&&(d[u]={id:u,lastChangedLocation:1,selectedOptionId:e,type:"single"})}}return d},g=({brandsParam:e,colorsParam:t,domainsParam:i,onSaleParam:a,priceMaxParam:r,priceMinParam:o,unifiedFilterModels:l})=>{let n=[],s=Number(o),d=Number(r),c=Number.isNaN(s)?void 0:s,u=Number.isNaN(d)?void 0:d,_=i?.split(",").filter(Boolean)??[],p=e?.split(",").filter(Boolean)??[],h=t?.split(",").filter(Boolean)??[];for(let{filter_options:e,id:t,product_filter_type:i}of l)if(t&&e?.length){if(1===i&&"number"==typeof c&&"number"==typeof u){let a={filter_id:t,filter_options:e.slice(0,2).filter(e=>void 0!==e.id).map((e,t)=>({filter_option_id:e.id,numeric_value:0===t?c:u,unit:e.unit||"USD"})),location:0,product_filter_type:i};n.push(a)}if(0===i&&_&&_.length>0){let a=_.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(a.length>0){let e={filter_id:t,filter_options:a.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};n.push(e)}}if(3===i&&p&&p.length>0){let a=p.map(t=>{let i=e.find(e=>e.string_value===t);return i?i.id:null}).filter(Boolean);if(a.length>0){let e={filter_id:t,filter_options:a.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};n.push(e)}}if(6===i&&h&&h.length>0){let a=h.map(t=>{let i=e.find(e=>e.string_value?.toLowerCase()===t.toLowerCase());return i?i.id:null}).filter(Boolean);if(a.length>0){let e={filter_id:t,filter_options:a.map(e=>({filter_option_id:e,string_value:e})),location:0,product_filter_type:i};n.push(e)}}if(7===i&&a){let r=e[0]?.id;if(r){let e={filter_id:t,filter_options:[{filter_option_id:r,numeric_value:Number(a)}],location:0,product_filter_type:i};n.push(e)}}}return 0===n.length?null:f(n)},b=({filterMap:e,isInWebHundredPercentProductLoadExp:t,models:i})=>{let a=null,o=null,l=!1,n=null,s=null,d=null,c=null,u=null;for(let _ in e){let p=e[_];if(p){let e=i.find(e=>e.id===p.id);if(e)if("range"===p.type&&1===e.product_filter_type)d=p.min,s=p.max;else if("multi"===p.type&&0===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));n=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&3===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));a=t?.map(e=>e.string_value).filter(Boolean)}else if("multi"===p.type&&6===e.product_filter_type){let t=e.filter_options?.filter(e=>p.selectedOptionIds.has(e.id||""));o=t?.map(e=>e.string_value).filter(Boolean)}else if("single"===p.type&&4===e.product_filter_type){let i=e.filter_options?.find(e=>p.selectedOptionId===e.id),a=i&&void 0!==i.search_type?(0,r.UQ)(i.search_type):r.cO.PINS;u=a,t&&(u=a===r.cO.PINS_BUYABLE?r.cO.PINS:a,l=a===r.cO.PINS_BUYABLE)}else"single"===p.type&&7===e.product_filter_type&&(c=e.filter_options?.[0]?.numeric_value)}}let _=i.find(e=>4===e.product_filter_type),p=_?.filter_options?.find(e=>e.is_selected);return null===u&&"number"==typeof p?.search_type&&(u=(0,r.UQ)(p.search_type)),{brands:a,colors:o,commerce_only:l,domains:n,max:s,min:d,on_sale:c,scope:u}},y=(e,t)=>{let i=[];return(Object.entries(e).forEach(([e,a])=>{let r=t.find(e=>e.id===a.id);if(!r||4===r.product_filter_type||"number"!=typeof r.product_filter_type||!r.filter_options)return;let o=[];if("range"===a.type){let[e,t]=r.filter_options;if(!e?.id||!t?.id)return;o=[{filter_option_id:e.id,numeric_value:a.min,unit:e.unit},{filter_option_id:t.id,numeric_value:a.max,unit:t.unit}]}if("single"===a.type){let e=r.filter_options.find(e=>e.id===a.selectedOptionId);if(!e?.id)return;o=[{filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}]}if("multi"===a.type){let e=r.filter_options.filter(e=>e.id&&a.selectedOptionIds.has(e.id));if(0===e.length)return;o=e.filter(e=>void 0!==e.id).map(e=>({filter_option_id:e.id,numeric_value:e.numeric_value,string_value:e.string_value}))}i.push({filter_id:e,filter_options:o,location:a.lastChangedLocation,product_filter_type:r.product_filter_type})}),i&&0!==i.length)?f(i):null},x=e=>{let t,{filter:i,title:a}=e.action||{},{title:r}=i||{},o=a||r;if(!i||!o)return null;let{filterComponentType:l,productFilterType:n,id:s}=i,d=(i.filterOptions||[]).filter(Boolean);if(void 0===l||void 0===d||0===d.length||null==n||null==s)return null;let c=(t=d.map(e=>{if(!e)return null;let{auxData:t,id:i,imageUrl:a,isVerified:r,label:o,numericValue:l,searchType:n,stringValue:s,unit:d,rules:c}=e;return null===a||null===a||null===l||null===r||null===s||null===d?null:{id:i||"",label:o||"",count:0,image_url:a,is_verified:r,numeric_value:l,...c?{rules:[...c]}:{},..."number"==typeof n?{search_type:n}:{},string_value:s,unit:d,..."string"==typeof t?.moduleId?{aux_data:{module_id:t.moduleId}}:{}}}).filter(Boolean)).length>0?t:null;return c?{filter_component_type:l,filter_options:[...c],id:s||"",product_filter_type:n,title:o}:null};function A(e,t,i){let[a,r,o,l]=i,{numeric_value:n=0}=l??a??{},{numeric_value:s=n+50}=o??r??{},{unit:d="USD"}=a??{},c=e.filters[t]?.type==="range"?e.filters[t]:{min:n,max:s,id:t,type:"range",lastChangedLocation:1};return{defaultMax:s,defaultMin:n,unit:d,range:c}}function v(e){return"multi"!==e.type?e:{...e,selectedOptionIds:new Set}}function w(e,t){let i=[];return Object.entries(t).forEach(([t,a])=>{let r=e.find(e=>e?.id===t);if(r){let e=r.aux_data?.module_id;e&&i.push(e);let t=("multi"===a.type?Array.from(a.selectedOptionIds):"single"===a.type?[a.selectedOptionId]:[]).map(e=>{let t=r.filter_options?.find(t=>t.id===e);return t?.aux_data?.module_id||""}).filter(Boolean);i.push(...t)}}),i}function j(e,t){let i=[];return Object.keys(t).forEach(t=>{let a=e.find(e=>e?.id===t);if(a){let e=a.product_filter_type;e&&i.push(e)}}),i}},952935(e,t,i){i.d(t,{A:()=>s});var a=i(47998),r=i(528989),o=i(491149),l=i(32712),n=i(894621);function s(e){let t=(0,o.qJ)(),{checkExperiment:i}=(0,r.A)(),s=(0,l.A)(),d=(0,a.A)(),c=(0,n.H7)(d,s),u=!t||i("web_sce_organic_pinbuilder_dep").anyEnabled;return!c&&(e&&i("sce_lightswitch_organic"),!t||!!u)}},595584(e,t,i){i.d(t,{A:()=>S});var a=i(335831),r=i(859471),o=i(836737),l=i(490560),n=i(746743),s=i(303683),d=i(380961),c=i(389598),u=i(606815),_=i(866804),p=i(109681),h=i(795822),f=i(562615);let m=(0,h.A)(()=>i.e("67152").then(i.bind(i,176387)),{ssr:!1},e=>176387,void 0,void 0),g=(0,h.A)(()=>i.e("33239").then(i.bind(i,795114)),{ssr:!1},e=>795114,void 0,void 0),b=(0,h.A)(()=>Promise.all([i.e("31589"),i.e("41649")]).then(i.bind(i,302724)),{ssr:!1},e=>302724,void 0,void 0),y=(0,h.A)(()=>i.e("45469").then(i.bind(i,120108)),{ssr:!1},e=>120108,void 0,void 0),x=(0,h.A)(()=>Promise.all([i.e("24266"),i.e("48535"),i.e("42474")]).then(i.bind(i,70058)),{ssr:!1},e=>70058,void 0,void 0),A=(0,h.A)(()=>i.e("30350").then(i.bind(i,848413)),{ssr:!1},e=>848413,void 0,void 0),v=(0,h.A)(()=>i.e("27093").then(i.bind(i,740244)),{ssr:!1},e=>740244,void 0,void 0),w=(0,h.A)(()=>i.e("866").then(i.bind(i,57561)),{ssr:!1},e=>57561,void 0,void 0),j=(0,h.A)(()=>i.e("75582").then(i.bind(i,828013)),{ssr:!1},e=>828013,void 0,void 0),P=[505933,506173,506124,506436,508591],B=({complete:e,dismiss:t,experience:i,placementId:a})=>{let{experience_id:r,display_data:n}=i,d=function(e){switch(e){case 504721:return v;case 504569:return A;case 504032:return w;case 502271:return g;case 505093:return j;default:return m}}(r),h=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(r),{setObserverRef:B}=(0,s.NM)();return(0,f.jsxs)(o.az,{ref:B,children:[!P.includes(r)&&(0,f.jsx)(c.Ay,{accessibilityModalLabel:"",onDismiss:t,size:h,children:(0,f.jsx)(d,{...(0,u.A)(_.A)(n),experienceId:r,handleComplete:e,handleDismiss:t,placementId:a})}),506124===r&&(0,f.jsx)(b,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.A)(_.A)(n)}),(506173===r||506436===r)&&(0,f.jsx)(b,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.A)(_.A)(n)}),508591===r&&(0,f.jsx)(x,{experienceId:508591,onSubmitSurvey:async()=>{(0,l.A)((0,p.A)({site:"www",path:"/business/marketing-plan"}))},placementId:a,viewType:251}),505933===r&&(0,f.jsx)(y,{handleComplete:()=>{e(),(0,l.A)((0,p.A)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function S({placementId:e}){(0,r.useEffect)(()=>{(0,a.A)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:i}=(0,d.A)(e);return(0,f.jsx)(r.Fragment,{children:(0,f.jsx)(n.Je,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505933,506173,506124,506436,508591],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:i,children:({complete:t,dismiss:i,experience:a})=>(0,f.jsx)(B,{complete:t,dismiss:i,experience:a,placementId:e})})})}},954994(e,t,i){i.d(t,{A:()=>w,D:()=>j});var a=i(335831),r=i(859471),o=i(106386),l=i(979638),n=i(284885),s=i(879889),d=i(836737),c=i(47998),u=i(396901),_=i(410899),p=i(211024),h=i(562615);function f({boardlessPins:e,displayFBCModalContent:t,handleClick:i,imageUrl:o,inFBCExperiment:l,pinRef:n,smallPinRep1:s,smallPinRep2:f,title:m,updateStep:g,onDismiss:b,inResUserFBCExperiment:y=!1,repinData:x}){(0,r.useEffect)(()=>{(0,a.A)("FBCUpsellIntroStep","/app/common/react/components/save/QuickSave/FBCUpsellIntroStep.tsx")},[]);let A=(0,u.A)(),v=(0,c.A)(),w=v.isAuth?v.username:null,j=A.bt("Enregistrez-le, triez-le, trouvez-le", "Save it, sort it, find it", "fbc.modal.title", undefined, true),P=A.bt("Les tableaux vous permettent de recueillir et d’organiser vos idées préférées afin de retrouver votre inspiration.", "Boards let you collect and organize your favorite ideas so you can get back to what inspires you.", "fbc.modal.subtitle", undefined, true),B=A.bt("Créer un tableau", "Create board", "fbc.modal.button.text", undefined, true),S=w?(0,_.$)(A.bt("La vibe de @{{ username }} !", "@{{ username }}'s Vibe!", "fbc.modal.board.title", undefined, true),{username:w.charAt(0).toUpperCase()+w.slice(1)}):null,C={url:x?.image?.url,name:x?.description};return l||y?(0,h.jsx)(d.so,{alignItems:"center",direction:"column",height:594,justifyContent:"start",width:"540",children:t?(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(d.az,{marginEnd:2,marginTop:2,padding:2,position:"absolute",right:!0,top:!0,children:(0,h.jsx)(d.K0,{accessibilityLabel:"Dismiss modal",icon:"close",iconColor:"default",onClick:b,size:"lg"})}),(0,h.jsx)(d.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"var(--sema-color-background-wash-scrims-opaque)"}},display:"flex",flex:"grow",justifyContent:"center",width:"100%",children:(0,h.jsxs)(d.az,{alignItems:"start",color:"default",direction:"column",display:"flex",justifyContent:"center",padding:6,rounding:400,width:369,children:[(0,h.jsx)(p.A,{boardKey:null,coverPinKey:null,images:y?[C]:e}),S&&(0,h.jsx)(d.az,{marginTop:1,paddingX:1,width:"100%",children:(0,h.jsx)(d.KJ,{children:S})})]})}),(0,h.jsx)(d.so,{justifyContent:"center",width:"100%",children:(0,h.jsxs)(d.az,{alignItems:"center",direction:"column",display:"flex",paddingY:5,width:458,children:[(0,h.jsx)(d._Y,{align:"center",size:"600",children:j}),(0,h.jsx)(d.az,{marginTop:2,width:"100%",children:(0,h.jsx)(d.KJ,{align:"center",children:P})}),(0,h.jsx)(d.az,{display:"flex",justifyContent:"center",marginTop:4,paddingX:6,width:"100%",children:(0,h.jsx)(d.$n,{color:"primary",fullWidth:!0,onClick:g,size:"lg",text:B})})]})})]}):(0,h.jsx)(d.so,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,h.jsx)(d.y$,{show:!0})})}):(0,h.jsxs)(d.Rp,{onTap:i,rounding:800,children:[(0,h.jsx)(d.az,{alignItems:"center","data-test-id":"content-wrapper",display:"flex",justifyContent:"center",marginTop:8,minHeight:300,children:(0,h.jsxs)(d.az,{display:"flex",justifyContent:"between",overflow:"hidden",rounding:400,children:[(0,h.jsx)(d.az,{ref:n,height:300,width:200,children:o&&(0,h.jsx)(d._V,{alt:m||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})}),(0,h.jsxs)(d.so,{alignItems:"stretch",direction:"column",justifyContent:"between",children:[(0,h.jsx)(d.az,{ref:s,color:"secondary",height:150}),(0,h.jsx)(d.az,{ref:f,color:"secondary",height:150})]})]})}),(0,h.jsx)(d.az,{padding:8,children:(0,h.jsx)(d._Y,{align:"center",size:"600",children:A.bt("Organisez vos idées en créant un tableau", "Keep your ideas organized by creating a board", "quickSave.eduToast.heading", undefined, true)})})]})}var m=i(129625),g=i(746743),b=i(389598),y=i(508765),x=i(119795),A=i(575820),v=i(863153);function w({boardId:e,boardUrl:t,onHide:i,imageUrl:d,title:_,toastDuration:p,firstBoardCreationExperimentEnabled:g=!1,resUserFirstBoardCreationExperimentEnabled:w=!1,showRepinAnimation:j,onComplete:P,repinData:B}){(0,r.useEffect)(()=>{(0,a.A)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]);let{logContextEvent:S}=(0,m.o)(),C=(0,u.A)(),z=(0,l.Zp)(),I=(0,r.useRef)(null),T=(0,r.useRef)(null),E=(0,r.useRef)(null),[k,O]=(0,r.useState)("INTRO_STEP"),F=(0,c.A)(),D=F.isAuth?F.id:"",M=(0,o.d4)(({feeds:e})=>e[`boardless-pins:${F.isAuth?F.id:""}`])||[],L=(0,v.zy)(),{boardlessPinsEnabled:N}=(0,A.KP)(D),R=(0,y.A)((g||w)&&N&&D?{name:"BoardlessPinsResource",options:{redux_normalize_feed:!0,userId:D}}:null),H=!!M&&M.reduce((e,t)=>{let i=L[t.id];return e.push({name:i?.description,url:i?.images?.["236x"]?.url}),e},[])||[],U=(M||[]).length>0&&R?.data||w&&B;(0,x.A)(()=>{(g||w)&&S({event_type:13,view_type:740,view_parameter:4165})}),(0,r.useEffect)(()=>{S({event_type:9311,element:11934,object_id_str:e}),setTimeout(()=>{let e,t,i;return e=I.current,t=T.current,i=E.current,void(e&&t&&i&&((0,n.A)({targets:e,height:[202],duration:600,delay:1e3,easing:"linear"}),(0,n.A)({targets:[t,i],width:[0,100],height:[100],marginLeft:[2],delay:1e3,duration:600,easing:"linear"})))},100);let t=setTimeout(()=>{g||w||i()},p);return()=>clearTimeout(t)},[]);let K=()=>n.A.remove([I.current,T.current,E.current]),J=()=>{S({event_type:9313,element:11934,object_id_str:e}),(g||w)&&S({event_type:17476,view_type:740,view_parameter:4165}),K(),i()};return(0,h.jsxs)(r.Fragment,{children:["INTRO_STEP"===k&&(0,h.jsx)(b.Ay,{accessibilityModalLabel:C.bt("Organisez vos idées en créant un tableau", "Keep your ideas organized by creating a board", "quickSave.eduToast.modalAccessibilityLabel", undefined, true),onDismiss:J,children:(0,h.jsx)(f,{boardlessPins:H,displayFBCModalContent:!!U,handleClick:()=>{S({event_type:9312,element:11934,object_id_str:e}),K(),i(),z(t)},imageUrl:d,inFBCExperiment:g,inResUserFBCExperiment:w,onDismiss:J,pinRef:I,repinData:B,smallPinRep1:T,smallPinRep2:E,title:_,updateStep:()=>{O("BOARD_CREATE_STEP"),S({event_type:101,view_type:740,view_parameter:4165,element:96})}})}),(g||w)&&"BOARD_CREATE_STEP"===k&&M.length>0&&(0,h.jsx)(s.A,{boardlessPinsNormalized:M,fetchMore:()=>{},hasBoards:!1,isFirstBoardCreation:g,isResUserFirstBoardCreation:w,lastSavedPin:B,onComplete:P,onDismiss:()=>{S({event_type:17476,view_type:740,view_parameter:4166,element:12284}),i()},showRepinAnimation:j,userId:F.isAuth?F.id:""})]})}function j({experience:e}){return(0,r.useEffect)(()=>{(0,a.A)("QuickSaveBoardCreateEdu","/app/common/react/components/save/QuickSave/QuickSaveBoardCreateEdu.tsx")},[]),(0,h.jsx)(g.Je,{eligibleIds:[508446],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,h.jsx)(w,{boardId:"",boardUrl:"",imageUrl:"",onComplete:e,onHide:t,repinData:{id:i.display_data?.repin_id??"",image:{url:i.display_data?.repin_image?.url??"",height:i.display_data?.repin_image?.height??0,width:i.display_data?.repin_image?.width??0},description:i.display_data?.repin_description??""},resUserFirstBoardCreationExperimentEnabled:!0,title:"",toastDuration:5e3})})}},758092(e,t,i){i.d(t,{A:()=>r});var a=i(301704);let r=async e=>(await (0,a.A)({url:"/v3/board/{board}/report_reasons/",urlParams:{board:e}})).resource_response.data},909821(e,t,i){i.d(t,{A:()=>r});var a=i(301704);let r=async(e,t)=>await (0,a.A)({url:"/v3/board/{board}/flag/",urlParams:{board:e},method:"POST",data:t})},445797(e,t,i){i.d(t,{A:()=>d,r:()=>s});var a=i(859471),r=i(233944),o=i(775816),l=i(305308),n=i(376195);function s(e,t){let{setViewContextData:i}=(0,o.x)(),{requestIdentifier:s}=(0,n._8)(),d=(0,r.A)(),{viewData:c}=(0,o.WQ)();(0,a.useEffect)(()=>{e&&(i({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,l.A)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s}))},[t])}function d(e){let{children:t,log:i}=e;return s(i),t||null}},620044(e,t,i){i.d(t,{A:()=>M});var a=i(335831),r=i(859471),o=i(954994),l=i(746743),n=i(642769),s=i(92035),d=i(836737),c=i(233944),u=i(775816),_=i(306869),p=i(396901),h=i(428576),f=i(562615);function m({dismissExperience:e,onClickCreateBoard:t}){(0,r.useEffect)(()=>{(0,a.A)("BoardUpsellBanner","/app/www/nux/encouragements/BoardUpsellBanner.tsx")},[]);let i=(0,p.A)(),{navFooterHeight:o,setForceShowNavFooter:l}=(0,h.o)(),n=(0,c.A)(),{viewParameter:s}=(0,u.WQ)();(0,r.useEffect)(()=>(l(!0),()=>{l(!1)}),[l]);let m=i.bt("Épingle enregistrée ! Ajoutez-la à un tableau", "Pin saved! Add it to a board", "boardUpsellBanner.header", undefined, true),g=i.bt("Les tableaux vous permettent d’organiser vos idées et de les retrouver facilement par la suite.", "Boards keep your ideas organized and easy to find later.", "boardUpsellBanner.message", undefined, true),b=i.bt("Créer un tableau", "Create a board", "boardUpsellBanner.buttonLabel", undefined, true);return(0,f.jsx)(d.Wd,{zIndex:_.nH,children:(0,f.jsx)(d.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{marginBottom:o+8}},paddingX:3,paddingY:2,position:"fixed",right:!0,width:"100%",children:(0,f.jsx)(d.Sl,{dismissButton:{accessibilityLabel:i.bt("Fermer la bannière", "Dismiss banner", "boardUpsellBanner.dismiss", undefined, true),onDismiss:()=>{n({event_type:123,view_type:3,view_parameter:s,component:15569}),e()}},imageData:{component:(0,f.jsx)(d.In,{accessibilityLabel:i.bt("Icône d’Épingle", "Pin Icon", "boardUpsellBanner.pinIcon", undefined, true),color:"primary",icon:"compact-pin-angled",size:20})},message:g,primaryAction:{accessibilityLabel:i.bt("Bouton Créer un tableau", "Create board button", "boardUpsellBanner.createBoardButton", undefined, true),label:b,onClick:()=>{n({event_type:102,element:249,view_type:3,view_parameter:s,component:15569}),t()}},title:m})})})}var g=i(106386),b=i(979638),y=i(14143),x=i(389598),A=i(388364),v=i(528989),w=i(906494),j=i(211024),P=i(369424),B=i(613738),S=i(540443),C=i(475258),z=i(139876),I=i(321791),T=i(83345),E=i(840151),k=i(913931);function O({completeExperience:e,dismissExperience:t,repinData:i}){(0,r.useEffect)(()=>{(0,a.A)("FirstBoardCreateHalfSheet","/app/www/save/BoardUpsell/FirstBoardCreateHalfSheet.tsx")},[]);let o=(0,p.A)(),l=(0,b.zy)(),n=(0,g.wA)(),s=(0,E.Y)(),{checkExperiment:_}=(0,v.A)(),h=(0,c.A)(),m=(0,k.A)(),O=(0,I.oW)(),{showToast:F}=(0,w.CG)(),{viewParameter:D}=(0,u.WQ)(),[M,L]=(0,r.useState)(!1),[N,R]=(0,r.useState)(""),[H,U]=(0,r.useState)(!1),K=i.id,J={url:i?.image?.url,name:i?.description},$=o.bt("Garder ce tableau secret", "Keep board secret", "boardCreationHalfSheet.boardSecret.label", undefined, true),q=o.bt("Créer un tableau", "Create Board", "boardCreationHalfSheet.title", undefined, true),W=o.bt("Créer", "Create", "boardCreationHalfSheet.createButton.label", undefined, true),Y=o.bt("Saisissez le nom du tableau", "Enter board name", "boardCreationHalfSheet.boardName.placeholder", undefined, true),G=o.bt("Nom du tableau", "Board Name", "boardCreationHalfSheet.boardName.label", undefined, true),V=o.bt("Bouton Fermer le modal de création de tableau", "Close board creation modal button", "boardCreationHalfSheet.boardName.accessibilityLabel", undefined, true),Q=o.bt("Modal de création du premier tableau", "Create first board modal", "boardCreationHalfSheet.accessibilityModalLabel", undefined, true),X=o.bt("Le nom du tableau est trop long", "Board name is too long", "boardCreationHalfSheet.boardNameTooLongErrorMessage", undefined, true),Z=async()=>{h({event_type:102,element:249,view_type:3,view_parameter:D,component:15544});let t=(0,P.A)(l.state?.trackingParams||"");try{let i=await m({boardCreateOptions:{name:N,initial_pin_client_tracking_params:[t],privacy:M?"secret":"public"},deprecatedSchemaForNormalization:z.no}),{url:a="",id:r}=i||{};K&&n((0,C.c)({checkExperiment:_,i18n:o,logContextEvent:h,pinId:K,boardId:r,trackingParams:{clientTrackingParams:t,pinnedToBoardId:r},historyPush:()=>void 0,savePinId:s?.save??(()=>{})})),e();let{duration:l,text:d,thumbnail:c}=(0,B.A)({boardId:r,getReduxBoard:O,isFBC:!0,pinId:K,viewType:3}),{href:u}=(0,T.A)(a,i.name??"",o);return F(({hideToast:e})=>(0,f.jsx)(S.A,{duration:l,href:u,onHide:e,text:d,thumbnail:c})),{boardId:r,boardUrl:a}}catch(e){return F(({hideToast:t})=>(0,f.jsx)(A.A,{duration:5e3,onHide:t,text:(0,y.A)(e,"message_detail")||(0,y.A)(e,"message")||o.bt("Désolé ! Un problème s’est produit de notre côté.", "Sorry! Something went wrong on our end.", "error creating board", undefined, true)})),null}},ee=()=>{h({event_type:123,view_type:3,view_parameter:D,component:15544}),t()};return(0,f.jsx)(x.Ay,{accessibilityModalLabel:Q,onDismiss:ee,children:(0,f.jsxs)(d.az,{padding:2,children:[(0,f.jsxs)(d.az,{alignItems:"center",display:"flex",justifyContent:"between",paddingY:1,width:"100%",children:[(0,f.jsx)(d.K0,{accessibilityLabel:V,icon:"close",onClick:ee,size:"lg"}),(0,f.jsx)(d._Y,{color:"default",size:"300",children:q}),(0,f.jsx)(d.$n,{color:"primary",disabled:H||!N,onClick:Z,size:"md",text:W})]}),(0,f.jsxs)(d.so,{direction:"column",children:[(0,f.jsx)(d.az,{display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,f.jsx)(d.az,{width:269,children:(0,f.jsx)(j.A,{boardKey:null,coverPinKey:null,fullSize:!0,images:[J]})})}),(0,f.jsxs)(d.az,{padding:2,children:[(0,f.jsx)(d.A_,{errorMessage:H?X:void 0,errorMessageDisplay:H?"visible":"hidden",id:"board-name-input",label:G,mobileInputMode:"text",onChange:({value:e})=>{R(e),e.length>=100?U(!0):U(!1)},placeholder:Y,size:"lg",type:"text",value:N}),(0,f.jsxs)(d.az,{display:"flex",justifyContent:"between",padding:4,children:[(0,f.jsx)(d.KJ,{size:"100",children:$}),(0,f.jsx)(d.dO,{id:"secretBoardToggle",onChange:()=>L(!M),switched:M})]})]})]})]})})}function F({complete:e,dismiss:t,experience:i}){let[a,o]=(0,r.useState)(1),l=(0,r.useRef)(!1);(0,r.useEffect)(()=>()=>{l.current||t()},[t]);let n=()=>{l.current=!0,t()};return 1===a?(0,f.jsx)(m,{dismissExperience:n,onClickCreateBoard:()=>o(2)}):(0,f.jsx)(O,{completeExperience:()=>{l.current=!0,e()},dismissExperience:n,repinData:{id:i.display_data?.pin_id??"",image:{url:i.display_data?.pin_image?.url??""},description:i.display_data?.pin_description??""}})}function D({experience:e}){return(0,r.useEffect)(()=>{(0,a.A)("FirstBoardUpsellExperience","/app/www/save/BoardUpsell/FirstBoardUpsellExperience.tsx")},[]),(0,f.jsx)(s.Ay,{eligibleIds:[508536],experience:e,children:({complete:e,dismiss:t,experience:i})=>(0,f.jsx)(F,{complete:e,dismiss:t,experience:i})})}let M=({placementId:e})=>{(0,r.useEffect)(()=>{(0,a.A)("ExperiencesAfterAction","/app/packages/experiences/Framework/ExperiencesAfterAction.tsx")},[]);let{experienceForPlacement:t}=(0,n.Du)(e),{unmountPlacement:i,registerAfterActionPlacement:s}=(0,n.WJ)();return(0,r.useEffect)(()=>(s(e),()=>{i(e)}),[e,i,s]),(0,f.jsxs)(r.Fragment,{children:[(0,f.jsx)(l.aR,{experience:t}),(0,f.jsx)(l.r8,{experience:t}),(0,f.jsx)(l.Vj,{experience:t}),(0,f.jsx)(o.D,{experience:t}),(0,f.jsx)(D,{experience:t})]})}},645501(e,t,i){i.d(t,{n1:()=>s,hr:()=>n});var a=i(329456),r=i(445532),o=i(506966),l=i(424120);function n({searchParams:e,sourceUrl:t,isDesktop:i,isAuthenticated:a,appliedUnifiedFilters:r}){let{autoCorrectionDisabled:o,bubbleId:l,category:n,currentlyAppliedFiltersParamTerm:s,domains:c,guidedSearchQuery:u,inGlobalSearch:_,journeyDepth:p,personalizationPinSig:h,priceMax:f,priceMin:m,query:g,queryImagePins:b,requestParams:y,rs:x,scope:A,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,topPinIds:P,user:B}=e;return function(e){let{selectedOneBarModules:t,currentlyAppliedFiltersParamTerm:i,personalizationPinSig:a,inGlobalSearch:r,appliedUnifiedFilters:o,initialCategory:l,initialDomains:n,initialMaxPrice:s,initialMinPrice:c,isDuplo:u,..._}=e,p=t?.split(","),h={..._,filters:i,selectedOneBarModules:p,selectedPinImgSig:a};if(r)return d(h);let f={...h,appliedUnifiedFilters:o,appliedProductFilters:function({category:e,domains:t,maxPrice:i,minPrice:a}){return[e,t,i,a].map(e=>e??"").join("-")}({category:l,domains:n,maxPrice:s,minPrice:c})};return u&&(f.domains=n,f.priceMax=s?parseInt(s,10):void 0,f.priceMin=c?parseInt(c,10):void 0),d(f)}({appliedUnifiedFilters:r,autoCorrectionDisabled:o,bubbleId:l,currentlyAppliedFiltersParamTerm:s,guidedSearchQuery:u,inGlobalSearch:_,initialCategory:n,initialDomains:c,initialMaxPrice:f,initialMinPrice:m,isDuplo:!a||!i,journeyDepth:p,personalizationPinSig:h,query:g,queryImagePins:b,requestParams:y,rs:x,scope:A,selectedOneBarModules:v,sourceId:w,sourceModuleId:j,sourceUrl:t,topPinIds:P,user:B})}function s({appliedProductFilters:e,applied_unified_filters:t,auto_correction_disabled:i,filters:a,journey_depth:r,query:o,rs:l,scope:n,selected_one_bar_modules:s,query_image_pins:d,query_pin_sigs:c,source_id:u,source_module_id:_,top_pin_ids:p,user:h}){let f=[e,a,r,o,l,n,s,d,c,u,_,t,p,h].map(e=>e??"").join(":");return i?"auto-correction-disabled:"+f:f}function d(e){return{name:"BaseSearchResource",options:(e=>{let{query:t="",scope:i="pins",appliedUnifiedFilters:n=null,appliedProductFilters:s=null,filters:d=null,domains:c=null,priceMax:u=null,priceMin:_=null,rs:p=o.I.DIRECT_NAVIGATION,journeyDepth:h=null,sourceId:f=null,sourceModuleId:m=null,sourceUrl:g=null,selectedOneBarModules:b=null,selectedPinImgSig:y=null,user:x=null,autoCorrectionDisabled:A=!1,seoDrawerEnabled:v=!1,bubbleId:w=null,pageSize:j=null,queryImagePins:P=null,requestParams:B=null,topPinIds:S=null}=e,C="u">typeof window?(0,l.y1)().getItem("pwt_performance_testing"):null,z=g&&g.includes("pwt_performance_testing"),I=!!(!0===C||"true"===C||z);return{query:t,scope:i,appliedProductFilters:s,domains:c,user:x,seoDrawerEnabled:v,applied_unified_filters:n,auto_correction_disabled:A,journey_depth:h,source_id:f,source_module_id:m,source_url:function(e){if(!e)return"";let t=new Set,i=e.split("?")[1];i&&i.split("&").forEach(e=>{e.includes("=")||t.add(e)});let{directory:o,queryKey:l}=(0,a.A)((0,r.A)(e,["request_params"])),n=Object.keys(l).sort().map(e=>t.has(e)?e:`${e}=${l[e]}`).join("&");return n?`${o}?${n}`:o}(g),static_feed:I,selected_one_bar_modules:b,query_pin_sigs:y,page_size:j,price_max:u,price_min:_,query_image_pins:P,request_params:B,top_pin_ids:S,article:w,corpus:y?"personalize":null,customized_rerank_type:y?"manas_graph_sage_only_wand_rewrite":null,filters:d,rs:p,redux_normalize_feed:!0}})({...e,autoCorrectionDisabled:!!e.autoCorrectionDisabled})}}},686322(e,t,i){i.d(t,{A:()=>a});function a(e,t){let i=t?.separateNumbers?/([A-Z]|\d)/g:/([A-Z])/g;return e.replace(i,(e,t)=>"_"+t.toLowerCase())}},733479(e,t,i){i.d(t,{A:()=>s});var a=i(836737),r=i(388364),o=i(396901),l=i(906494),n=i(562615);function s(){let{showToast:e}=(0,l.CG)(),t=(0,o.A)();return()=>{e(({hideToast:e})=>(0,n.jsx)(r.A,{duration:5e3,onHide:e,text:t.bt("Bloqué. Pour gérer votre liste de blocages, consultez la page Autorisations plateformes sociales dans les paramètres.", "Blocked. To manage your block list, see social permissions in settings.", "blockedAccounts.blockConfirmMessage", undefined, true),thumbnail:{icon:(0,n.jsx)(a.In,{accessibilityLabel:t.bt("Icône de réussite", "Success icon", "blockedAccounts.blockConfirmMessage.icon", undefined, true),color:"default",icon:"circle-check-fill",size:12})}}))}}},39019(e,t,i){i.d(t,{A:()=>F});var a,r,o,l,n=i(335831),s=i(859471),d=i(129625),c=i(528989),u=i(376195),_=i(491149),p=i(119795),h=i(462206);i(825193);var f=i(836737),m=i(900565),g=i(233944),b=i(428743),y=i(25204),x=i(939099),A=i(562615);let v=(void 0!==a||(a=i(821622)).hash&&"6ddea2ecd3dff2e1001c1e4d037cc858"!==a.hash&&console.error("The definition of 'CallToAction_advisoryAction' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function w({auxData:e,actionKey:t,alignCenter:i}){(0,s.useEffect)(()=>{(0,n.A)("CallToAction","/app/www/ContentSensitivityOnDesktop/CallToAction.tsx")},[]);let a=(0,m.A)(v,t),r=(0,g.A)(),o=(0,_.qJ)(),{title:l,description:d,button:c}=a,u=c?.text,p=l?.text,h=d?.text,w=c?.link??"",j=w.replace(/^(?:https?:\/\/)?(?:www\.)?/i,"").replace("/",""),P=u&&w.startsWith("http"),B=(0,b.A)({url:w}),S=P&&B?"nofollow":"none";return e?.advisory_type===x.IQ?(0,A.jsx)(s.Fragment,{children:(0,A.jsxs)(f.so,{direction:"column",gap:3,justifyContent:"start",children:[!!p&&(0,A.jsx)(f.KJ,{align:"start",weight:"bold",children:p}),!!h&&(0,A.jsx)(f.KJ,{align:"start",children:h}),(0,A.jsx)(f.vx,{color:"tertiary",href:w,onClick:()=>{(0,y.rt)({auxData:{...e,url:w},isDesktop:o,logContextEvent:r})},rel:S,text:u||"Visit"})]})}):P?(0,A.jsxs)(s.Fragment,{children:[(0,A.jsx)(f.az,{marginBottom:1,children:(0,A.jsx)(f.KJ,{align:i?"center":"start",weight:"bold",children:""!==u?u:"Visit"})}),(0,A.jsx)(f.az,{marginBottom:1,children:(0,A.jsx)(f.N_,{href:w,onClick:()=>{(0,y.rt)({logContextEvent:r,auxData:{...e,url:w},isDesktop:o})},rel:S,children:(0,A.jsx)(f.KJ,{align:i?"center":"start",lineClamp:1,underline:!0,weight:"normal",children:j})})})]}):(0,A.jsxs)(s.Fragment,{children:[!!p&&(0,A.jsx)(f.az,{marginBottom:1,children:(0,A.jsx)(f.KJ,{align:i?"center":"start",weight:"bold",children:p})}),!!h&&(0,A.jsx)(f.az,{marginBottom:1,children:(0,A.jsx)(f.KJ,{align:i?"center":"start",children:h})})]})}let j=(void 0!==r||(r=i(188643)).hash&&"4970946a36017d9ad0c751fd70cc512c"!==r.hash&&console.error("The definition of 'HyperlinkFormatText_textTag' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function P({text:e,textTags:t,auxData:i}){let a=(0,g.A)(),r=(0,_.qJ)(),o=[],l=0;for(let n=0;n<t.length;n+=1){let s=t[n];if(5===s.tagType&&s.link){let{offset:t,length:d,link:c}=s;if(null!=t&&null!=d&&null!=c){let s=e.substring(t,t+d),u=(0,A.jsx)(f.KJ,{inline:!0,weight:"bold",children:(0,A.jsx)(f.N_,{display:"inlineBlock",href:c,onClick:()=>{(0,y.rt)({logContextEvent:a,auxData:{...i,url:c},isDesktop:r})},target:"blank",underline:"hover",children:s})},`link-${n}-${t}`);o.push((0,A.jsx)("span",{children:e.substring(l,t)},`text-${n}-${l}`)),o.push(u),l=t+d}}}return(l>0&&o.push((0,A.jsx)("span",{children:e.substring(l)},`text-end-${l}`)),0===o.length)?[(0,A.jsx)("span",{children:e},"text-full")]:o}function B({auxData:e,textTagKey:t,text:i}){(0,s.useEffect)(()=>{(0,n.A)("HyperlinkFormatText","/app/www/ContentSensitivityOnDesktop/HyperlinkFormatText.tsx")},[]);let a=(0,m.A)(j,t);return(0,A.jsx)(P,{auxData:e,text:i,textTags:a})}let S=[4,14],C={backgroundColor:"#E1F8F7",boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},z={boxShadow:"0 4px 16px rgba(0, 0, 0, 0.04)"},I=(void 0!==o||(o=i(889816)).hash&&"5879c4710b107f258f42156bf3e47e37"!==o.hash&&console.error("The definition of 'DefaultNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function T({auxData:e,advisory:t,inModal:i,noticeKey:a}){(0,s.useEffect)(()=>{(0,n.A)("DefaultNotice","/app/www/ContentSensitivityOnDesktop/DefaultNotice.tsx")},[]);let{title:r,description:o,actions:l}=(0,m.A)(I,a),d=!!l?.length&&(e?.advisory_type===x.IQ||!!t&&S.includes(t)),c=l?.length===1,u=o&&o.text||"";return(0,A.jsxs)(f.az,{dangerouslySetInlineStyle:{__style:i?z:C},padding:6,rounding:200,children:[!!r&&!i&&(0,A.jsx)(f.az,{display:"flex",marginBottom:2,children:(0,A.jsx)(f._Y,{size:"600",children:r})}),!!u&&o?.textTags!=null&&(0,A.jsx)(f.az,{"data-test-id":"search-advisory",marginBottom:4,children:(0,A.jsx)("span",{style:{whiteSpace:"pre-wrap"},children:(0,A.jsx)(f.KJ,{align:i?"center":"start",overflow:"normal",children:(0,A.jsx)(B,{auxData:e,text:u,textTagKey:o.textTags})})})}),d&&(0,A.jsx)(f.az,{direction:i?"column":"row",display:"flex",marginEnd:-2,marginStart:-2,wrap:!0,children:l?.map(t=>(0,A.jsx)(f.az,{column:i||c?12:6,paddingX:2,paddingY:1,children:(0,A.jsx)(w,{actionKey:t,alignCenter:i||c,auxData:e})},t.actionId))})]})}let E=(void 0!==l||(l=i(109982)).hash&&"fa2efeb6b4c660680d9f3a0e156c8007"!==l.hash&&console.error("The definition of 'LegoNotice_advisoryNotice' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function k({auxData:e,noticeKey:t}){(0,s.useEffect)(()=>{(0,n.A)("LegoNotice","/app/www/ContentSensitivityOnDesktop/LegoNotice.tsx")},[]);let i=(0,m.A)(E,t),a=(0,g.A)(),r=(0,_.qJ)(),o={color:"#004b91",display:"block",fontSize:"28px",WebkitFontSmoothing:"antialiased"};return(0,A.jsxs)(f.az,{alignItems:"center",direction:"column",display:"flex",marginBottom:3,width:"100%",children:[(0,A.jsx)(f.az,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#86d1ce"}},display:"flex",justifyContent:"center",rounding:800,width:656,children:(0,A.jsxs)(f.az,{"data-test-id":"search-advisory",height:"100%",padding:10,width:"100%",children:[(0,A.jsx)("span",{style:o,children:i.description?.textTags&&(0,A.jsx)(B,{text:i.description?.text||"",textTagKey:i.description.textTags})}),(0,A.jsx)(f.az,{marginTop:6,children:(i.actions??[]).map(t=>{let i=t.button?.link;return i&&i.startsWith("tel")?(0,A.jsxs)(f.az,{children:[(0,A.jsx)("span",{style:{fontWeight:"600",...o},children:t.title?.text}),(0,A.jsx)("span",{style:o,children:t.description?.text})]},t.actionId):(0,A.jsx)(f.N_,{href:i||"",onClick:()=>{(0,y.rt)({logContextEvent:a,auxData:{...e,url:i||"",isLegoNotice:!0},isDesktop:r})},children:(0,A.jsx)(f.az,{display:"inlineBlock",children:(0,A.jsx)(f.az,{alignItems:"center",color:"info",display:"flex",height:44,justifyContent:"center",paddingX:12,rounding:"pill",children:(0,A.jsx)(f.KJ,{color:"inverse",weight:"bold",children:t.button?.text||""})})})},t.actionId)})})]})}),!!i.footer&&(0,A.jsx)(f.az,{paddingY:2,width:540,children:(0,A.jsx)(f.N_,{display:"inlineBlock",href:i.footer.link??"",onClick:()=>{(0,y.rt)({logContextEvent:a,auxData:{...e,url:i.footer?.link??"",isLegoNotice:!0},isDesktop:r})},target:"blank",underline:"hover",children:(0,A.jsx)(f.KJ,{align:"center",color:"subtle",size:"100",children:(0,A.jsx)("div",{dangerouslySetInnerHTML:{__html:i.footer.text??""}})})},i.footer.link)})]})}var O=i(892804);function F({boardId:e,isOwnBoard:t,boardName:i,boardSectionId:a,notices:r,query:o,sensitivity:l,viewParameter:f,viewType:m,inModal:g}){(0,s.useEffect)(()=>{(0,n.A)("SensitiveContentNotice","/app/www/ContentSensitivityOnDesktop/SensitiveContentNotice.tsx")},[]),function({advisoryDetails:e,boardId:t,boardName:i,boardSectionId:a,query:r,sensitivity:o,viewParameter:l,viewType:n}){let{logContextEvent:s}=(0,d.o)(),c=(0,_.qJ)();(0,p.A)(()=>{n&&(s({aux_data:{entered_query:r,advisory_details:e,advisory_level:o?.advisory,severity_level:o?.severity,advisory_type:o?.advisory_type,resource_country:o?.resource_country},component:13367,event_type:120,view_parameter:l,view_type:n}),(0,O.U9)("webapp.advisories.view",1,{sampleRate:1,tags:{advisory_level:o?.advisory,advisory_type:o?.advisory_type,app:c?"DESKTOP_WEB":"MOBILE_WEB",resource_country:o?.resource_country,placement:5===n?"board":"search"}})),t&&5===n&&s({aux_data:{board_name:i,board_id:t,board_section_id:a??0},component:178,event_type:15549,view_parameter:l,view_type:n})})}({advisoryDetails:l?.advisory_details,boardId:e,boardSectionId:a,query:o,sensitivity:{advisory:l?.advisory,severity:l?.severity},viewParameter:f,viewType:m});let{checkExperiment:b}=(0,c.A)(),y=(0,u._8)(),x={advisory_level:l?.advisory||null,severity_level:l?.severity||null,advisory_type:l?.advisory_type||"",stage:y.stage,resource_country:l?.resource_country||"",entered_query:o||""};if(b("ps_board_advisories_ui_refresh").anyEnabled){let o=t?4173:4174;return(0,A.jsx)(s.Fragment,{children:r?.map(t=>(0,A.jsx)(h.A,{boardId:e,boardName:i,boardSectionId:a,notice:t,objectType:a?164:5,sensitivity:l,viewParameter:a?o:f,viewType:a?164:5},t.id))})}return(0,A.jsx)(s.Fragment,{children:r?.map(e=>2===e.style?(0,A.jsx)(k,{auxData:x,noticeKey:{type:"Legacy",data:e}},e.id):(0,A.jsx)(T,{advisory:l?.advisory,inModal:g,noticeKey:{type:"Legacy",data:e}},e.id))})}},231889(e,t,i){i.d(t,{Ay:()=>c,fG:()=>u,z1:()=>d});var a,r=i(224989),o=i(672375),l=i(50001),n=i(798684);let s=(void 0!==a||(a=i(763327)).hash&&"547e5abdb645851996d6a1b1a4027c56"!==a.hash&&console.error("The definition of 'hasSensitivityNotices_sensitivity' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function d(e){let{notices:t,advisory:i,severity:a}=(0,r.useFragment)(s,e)||{};return{hasNotices:!!(t?.[0]&&null!==t[0].title),advisory:i,severity:a}}function c(e){if(null==e)return{hasNotices:!1};let{advisory:t,severity:i}=e,a=!!e.notices&&e.notices.length>0;return e.notices&&e.notices.length>0&&e.notices[0]?.title===null&&(a=!1),{hasNotices:a,advisory:t,severity:i}}function u(e){let{scope:t}=(0,l.u)(),{data:i,isLoaded:a}=(0,n.A)(),r=d(e);if(t===o.cO.USERS)return r;if(!a||!i)return{hasNotices:!1};let{sensitivity:s}=i;return c(s)}},613817(e,t,i){i.d(t,{A:()=>o,o:()=>a});let{Provider:a,get:r}=(0,i(767216).A)("Conversations"),o=r},279416(e,t,i){i.d(t,{M5:()=>_,QZ:()=>n,xL:()=>u});var a=i(859471),r=i(767216),o=i(169250),l=i(562615);let n=o.d1+1,s={educationId:null,paddingRight:0,zIndex:n};function d(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:a}=t.payload;return{...e,paddingRight:a};case"FOOTER_SET_Z_INDEX":let{zIndex:r}=t.payload;return{...e,zIndex:r};default:return e}}let{Provider:c,get:u}=(0,r.A)("footerContext");function _({children:e}){let[t,i]=(0,a.useReducer)(d,s),r=(0,a.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),o=(0,a.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),n=(0,a.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),u=(0,a.useMemo)(()=>({...t,setEducationId:o,setPaddingRight:r,setZIndex:n}),[t,o,r,n]);return(0,l.jsx)(c,{value:u,children:e})}},911499(e,t,i){i.d(t,{A:()=>c});var a=i(335831),r=i(859471),o=i(775816),l=i(526302),n=i(219278),s=i(562615);class d extends r.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:a}=this.props;e({viewData:t,viewParameter:i,viewType:a})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:i,viewParameter:a,viewType:r}=this.props;a===e.viewParameter&&r===e.viewType&&(0,l.Ay)(i,e.viewData)||t({viewData:i,viewParameter:a,viewType:r})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:i,objectIdStr:a,viewData:r,viewParameter:o,viewType:l,clientTrackingParams:d}=this.props;return(0,s.jsx)(n.A,{auxData:e,clientTrackingParams:d,component:i,objectIdStr:a,viewData:r,viewParameter:o,viewType:l,children:t})}}function c(e){(0,r.useEffect)(()=>{(0,a.A)("PageView","/app/www/analytics/PageView.tsx")},[]);let{setViewContextData:t,clearViewContextData:i}=(0,o.x)();return(0,s.jsx)(d,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},50001(e,t,i){i.d(t,{n:()=>_,u:()=>u});var a=i(859471),r=i(979638),o=i(767216),l=i(672375),n=i(491149),s=i(881329),d=i(562615);let{Provider:c,get:u}=(0,o.A)("SearchParams"),_=({children:e,value:t})=>{let i=function(){let e=(0,n.qJ)(),{search:t,pathname:i}=(0,r.zy)(),{scope:a}=(0,r.g)(),o=!a&&i.includes("/_tools/shop");return(0,s.A)({isDesktop:e,scope:o?l.cO.SHOP_TOOL:a??l.cO.PINS,search:t})}(),o=(0,a.useMemo)(()=>({...i,...t}),[i,t]);return(0,d.jsx)(c,{value:o,children:e})}},809496(e,t,i){i.d(t,{A:()=>a});let a=(0,i(859471).createContext)({inboxButton:null,setInboxButton:()=>{},profileInboxButton:null,groupBoardMessageButton:null,setProfileInboxButton:()=>{},isUnblockToast:!1,setIsUnblockToast:()=>{},setGroupBoardMessageButton:()=>{}})},663647(e,t,i){i.d(t,{A:()=>o});var a=i(859471),r=i(809496);function o(){let e=(0,a.use)(r.A);if(void 0===e)throw Error("useInboxButtonContext must be used within a InboxButtonContext Provider.");return e}},881329(e,t,i){i.d(t,{A:()=>o});var a=i(672375),r=i(218781);function o({isDesktop:e,scope:t,search:i}){let{auto_correction_disabled:o="",b_id:l,brands:n,category:s,colors:d,commerce_only:c="",cover_pin_sig:u,deb_d:_,domains:p,filters:h,guided_search_query:f,inline_suggestion:m,interest_id:g,journey_depth:b,on_sale:y,price_max:x,price_min:A,q:v,query_pin_sigs:w,query_image_pins:j,quiz:P,request_params:B,rs:S,selected_one_bar_modules:C,source_id:z,source_module_id:I,tab:T,top_pin_ids:E,user:k}=(0,r.A)(i),O="true"===c.toLowerCase()&&"shop_tool"!==t?a.cO.PINS_BUYABLE:t;return{autoCorrectionDisabled:"true"===o.toLowerCase(),brands:n,bubbleId:l,category:s,colors:d,commerceOnly:"true"===c.toLowerCase(),coverPinSig:u,currentlyAppliedFiltersParamTerm:h,debD:_,domains:p,guidedSearchQuery:f,inlineSuggestion:m,interestId:g,journeyDepth:b?parseInt(b,10):void 0,onSale:y,personalizationPinSig:w,placementId:(0,a.my)(O,e),priceMax:x,priceMin:A,query:v,queryImagePins:j,quiz:P,requestParams:B,rs:S,scope:O,selectedOneBarModules:C,sourceId:z,sourceModuleId:I,tab:T||"",topPinIds:E,user:k,viewParameter:(0,a._n)(O),viewType:O===a.cO.SHOP_TOOL?1:2}}},798684(e,t,i){i.d(t,{A:()=>_,Y:()=>p});var a=i(979638),r=i(743402),o=i(528989),l=i(376195),n=i(508765),s=i(645501),d=i(672375),c=i(491149),u=i(50001);function _(e){let{resource:t}=p(e);return t}function p(e){let{skipResourceCall:t}=e||{},{checkExperiment:i}=(0,o.A)(),{isAuthenticated:_}=(0,l._8)(),{pathname:p,search:h}=(0,a.zy)(),f=(0,c.qJ)(),m=!_||!f,g=(0,u.u)(),b=(0,r.A)(),y=(0,s.hr)({searchParams:g,sourceUrl:p+h,isDesktop:f,isAuthenticated:_,appliedUnifiedFilters:b}),x=m;m&&(x=!!_&&!i("unify_search_resource_auth_mweb").anyEnabled);let A=t||g.scope===d.cO.USERS&&!m||x;return{resource:(0,n.A)(A?null:y),options:y.options}}},105506(e,t,i){i.d(t,{A:()=>s,N:()=>d});var a=i(301704),r=i(464623),o=i(157210),l=i(310206),n=i(831064);function s(e,t,i){return s=>(0,a.A)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:e,target_board:t},method:"POST",data:i?{orbac_subject_id:i}:{}}).then(()=>Promise.all([s((0,o.Qv)({boardId:e})),s((0,r.A)(t,"pin_count")),s((0,l.eO)(n.A.BOARD_SECTIONS,t))]))}let d=async(e,t,i,s)=>{await (0,a.A)({url:"/v3/boards/{source_board}/merge/{target_board}/",urlParams:{source_board:t,target_board:i},method:"POST",data:s?{orbac_subject_id:s}:{}}),e((0,o.Qv)({boardId:t})),(0,r.A)(i,"pin_count"),e((0,l.eO)(n.A.BOARD_SECTIONS,i))}},193352(e,t,i){i.d(t,{A:()=>l,B:()=>n});var a=i(508765),r=i(204071);let o=({boardId:e,ownerId:t,ownerUsername:i,ownerName:o,ownerImgSrc:l})=>{let n=(0,r.A)(),{data:s,isLoaded:d}=(0,a.A)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...n?{orbac_subject_id:n}:{}}}),c=[{id:t,name:o,src:l,href:`/${i}/`,isDim:!1}];return d&&s&&s.length>0&&s.forEach(e=>{c.push({id:e.invited_user?e.invited_user.id:"",name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),c},l=o;function n({children:e,...t}){return e(o(t))}},141982(e,t,i){i.d(t,{A:()=>tr});var a=i(335831),r=i(859471),o=i(106386),l=i(979638),n=i(836737),s=i(453593),d=i(952935),c=i(595584),u=i(86527),_=i(538355),p=i(129625),h=i(268989),f=i(746743),m=i(620044),g=i(262311),b=i(47998),y=i(740685),x=i(699415),A=i(906494),v=i(119795),w=i(32712),j=i(894621),P=i(911499),B=i(257470),S=i(538346),C=i(562615);function z({layoutType:e,thumbnails:t}){switch((0,r.useEffect)(()=>{(0,a.A)("BoardActionUpsellImages","/app/www/BoardActionUpsells/BoardActionUpsellImages.tsx")},[]),e){case 4:let i=t&&t[0]&&t[0]["236x"];return(0,C.jsx)(n.n1,{height:80,rounding:400,width:80,children:i?(0,C.jsx)(n._V,{alt:"",color:"gray",fit:"cover",naturalHeight:i.height,naturalWidth:i.width,src:i.url}):(0,C.jsxs)(n.so,{alignItems:"stretch",justifyContent:"start",children:[(0,C.jsx)(n.az,{color:"secondary",height:80,width:39.4}),(0,C.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:{paddingLeft:1.2}},children:[(0,C.jsx)(n.az,{color:"secondary",height:39.4,width:39.4}),(0,C.jsx)(n.az,{color:"secondary",dangerouslySetInlineStyle:{__style:{marginTop:"1.2px"}},height:40.6,width:39.4})]})]})});case 2:return(0,C.jsx)(n.n1,{height:80,rounding:400,width:80,children:(0,C.jsx)(n.so,{alignItems:"stretch",justifyContent:"start",children:[0,1].map(e=>{let i=t&&t?.length>0?t[e]:null;return(0,C.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{paddingRight:1.2}},children:(0,C.jsx)(n.az,{height:80,width:39.4,children:i?.["236x"]?.url&&(0,C.jsx)(n._V,{alt:"",color:"gray",fit:"cover",naturalHeight:80,naturalWidth:39.4,src:i["236x"].url})})},e)})})});default:return null}}let I=[502043,502085],T=`
.BoardActionUpsellCard {
  animation-duration: 0.5s;
  animation-fill-mode: forwards;
  animation-name: slideUp;
  animation-timing-function: ease-out;
  background-color: #fff;
  border-radius: 16px;
  box-shadow: 0 2px 14px 0 rgba(0, 0, 0, 0.25);
  display: flex;
  justify-content: between;
  left: 50%;
  margin-left: -210px; // half of width
  padding: 24px;
  position: fixed;
  transition: bottom 1s;
  width: 420px;
}

@keyframes slideUp {
  from {
    bottom: -200px;
  }

  to {
    bottom: 14px;
  }
}
`;function E({boardId:e,displayData:t,complete:i,dismiss:a,handleShowArchiveConfirmation:o}){let{logContextEvent:l}=(0,p.o)(),[s,d]=(0,r.useState)(void 0);(0,r.useEffect)(()=>()=>clearTimeout(s),[s]);let c={2:o};return(0,r.useEffect)(()=>{s||d(setTimeout(()=>{a()},2e4)),l({event_type:13,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}})},[]),(0,C.jsxs)(n.Wd,{children:[(0,C.jsx)(S.A,{unsafeCSS:T}),(0,C.jsxs)("div",{className:"BoardActionUpsellCard",children:[(0,C.jsx)(n.az,{flex:"none",children:(0,C.jsx)(z,{layoutType:t.layout_type,thumbnails:t.thumbnail_image_urls})}),(0,C.jsxs)(n.az,{marginStart:4,children:[(0,C.jsx)(n.KJ,{inline:!0,children:(0,C.jsx)(n._Y,{size:"400",children:t.text})}),(0,C.jsxs)(n.az,{display:"flex",justifyContent:"start",marginTop:4,width:"100%",children:[(0,C.jsx)(n.$n,{color:"secondary",onClick:()=>{l({event_type:123,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),a()},text:t.dismiss_button.text}),(0,C.jsx)(n.az,{paddingX:2,children:(0,C.jsx)(n.$n,{color:"primary",onClick:()=>{c[t.complete_button.action_type](),l({event_type:101,view_type:5,view_parameter:3069,element:11758,object_id_str:JSON.stringify(t.experience.experience_id),aux_data:{board_id:e}}),i()},text:t.complete_button.text})})]})]})]})]})}function k({boardId:e,handleShowArchiveConfirmation:t}){return(0,r.useEffect)(()=>{(0,a.A)("BoardActionUpsellCard","/app/www/BoardActionUpsells/BoardActionUpsellCard.tsx")},[]),(0,C.jsx)(f.Je,{eligibleIds:I,placementId:18,children:({experience:i,complete:a,dismiss:r})=>(0,C.jsx)(E,{boardId:e,complete:a,dismiss:r,displayData:i.display_data,handleShowArchiveConfirmation:t})})}var O=i(451658),F=i(157210),D=i(27493),M=i(489272),L=i(655471),N=i(548588),R=i(389598),H=i(396901),U=i(410899);function K(){(0,r.useEffect)(()=>{(0,a.A)("GroupBoardFavoriteEducationModal","/app/www/FavoriteButton/GroupBoardFavoriteEducationModal.tsx")},[]);let e=(0,H.A)(),t=(0,C.jsx)(n.az,{display:"flex",justifyContent:"center",paddingX:8,children:(0,C.jsx)(n.KJ,{children:(0,U.vQ)(e.bt("Ajoutez une {{ star }} pour montrer aux collaborateurs vos Épingles préférées", "Add a {{ star }} to show collaborators your favorite Pins", "groupBoardFavoriteEducationModal.text", undefined, true),{star:(0,C.jsx)(n.az,{display:"inlineBlock",children:(0,C.jsx)(n.In,{accessibilityLabel:e.bt("Icône Favoris", "Favorite icon", "groupBoardFavoriteEducationModal.bodyFavoriteIcon", undefined, true),color:"default",icon:"star-fill",size:12})})})})});return(0,C.jsx)(f.Je,{eligibleIds:[503077],placementId:18,children:({complete:i,dismiss:a})=>(0,C.jsx)(R.Ay,{accessibilityModalLabel:e.bt("Réaction du tableau collaboratif", "Group board reaction", "groupBoardFavoriteEducationModal.modalAccessibilityLabel", undefined, true),footer:(0,C.jsx)(n.so,{justifyContent:"end",children:(0,C.jsx)(n.$n,{onClick:()=>i(),text:e.bt("Compris !", "Got it", "groupBoardFavoriteEducationModal.doneButton", undefined, true)})}),heading:(0,C.jsxs)(n.az,{alignItems:"center",display:"flex",justifyContent:"center",paddingX:4,paddingY:6,position:"relative",children:[(0,C.jsx)(n.az,{maxWidth:400,children:(0,C.jsx)(n._Y,{align:"center",size:"600",children:(0,U.vQ)(e.bt("{{ heart }} devient maintenant {{ star }}", "{{ heart }} is now {{ star }}", "groupBoardFavoriteEducationModal.heading", undefined, true),{heart:(0,C.jsx)(n.az,{display:"inlineBlock",paddingX:1,children:(0,C.jsx)(n.In,{accessibilityLabel:e.bt("Icône cœur", "Heart icon", "groupBoardFavoriteEducationModal.headingHeartIcon", undefined, true),color:"default",icon:"heart-fill",size:16})}),star:(0,C.jsx)(n.az,{display:"inlineBlock",paddingX:1,children:(0,C.jsx)(n.In,{accessibilityLabel:e.bt("Icône Favoris", "Favorite icon", "groupBoardFavoriteEducationModal.headingFavoriteIcon", undefined, true),color:"default",icon:"star-fill",size:16})})})})}),(0,C.jsx)(n.az,{padding:6,position:"absolute",right:!0,top:!0,children:(0,C.jsx)(n.K0,{accessibilityLabel:e.bt("Fermer", "Close", "groupBoardFavoriteEducationModal.closeModalButton", undefined, true),icon:"close",iconColor:"default",onClick:a,size:"md"})})]}),onDismiss:a,size:"sm",children:t})})}var J=i(242595),$=i(310206),q=i(831064),W=i(550325),Y=i(795561),G=i(366101),V=i(693953);function Q({board:e,currentFilter:t,eligibleFilters:i,isOwnBoard:o,surface:l,setCurrentFilter:s,setTitle:d}){(0,r.useEffect)(()=>{(0,a.A)("ActionBarFilterButton","/app/www/save/board/BoardDefaultTabContent/ActionBarFilterButton.tsx")},[]);let c=(0,J.WO)(),{logContextEvent:u}=(0,p.o)(),_=(0,H.A)(),h=(0,r.useRef)(null),f=c?.boardPinDensity,[m,g]=(0,r.useState)(!1),b=()=>{g(!1)},y=e=>{(0,G.A)({boardDensity:e,component:"board"===l?13183:13187,viewType:"board"===l?5:164},u),(0,V.A)({density:e,surface:"board"}),c?.setBoardPinDensity(e)},x=[],A={[-1]:12111,6:12227};if(i){let a={items:i.map(i=>({isSelected:i.pin_type===t,onClick:()=>{u({event_type:101,component:13475,element:A[i.pin_type??-1],object_id_str:e.id,view_type:5,view_parameter:o?3069:3070}),s(i.pin_type??-1),d(-1===i.pin_type?null:i.text),b()},text:i.text??""})),label:_.bt("Filtrer par type", "Filter by type", "board.experimentalBoardActionBar.filterOptions", undefined, true)};x.push(a)}return x.push({items:[{isSelected:"regular"===f,onClick:()=>{b(),y("regular")},text:_.bt("Par défaut", "Default", "BoardHeader.ActionBar.DensityOption-Default", undefined, true)},{isSelected:"dense"===f,onClick:()=>{b(),y("dense")},text:_.bt("Compact", "Compact", "BoardHeader.ActionBar.DensityOption-Compact", undefined, true)}],label:_.bt("Options d’affichage", "View options", "BoardHeader.ActionBar.ViewOptions", undefined, true)}),(0,C.jsxs)(r.Fragment,{children:[(0,C.jsx)(n.az,{ref:h,children:(0,C.jsx)(n.K0,{accessibilityControls:"filter_board",accessibilityExpanded:m,accessibilityLabel:_.bt("Filre de tableau", "Board Filter", "board.experimentalBoardActionBar.boardFilter", undefined, true),accessibilityPopupRole:"menu",icon:"filter-horizontal",iconColor:"default",onClick:()=>{u({event_type:101,element:12020,object_id_str:e.id,view_type:5,view_parameter:o?3069:3070}),g(!m)},selected:m,size:"lg"})}),m&&(0,C.jsx)(n.ms,{anchor:h.current,disableMobileUI:!0,id:"filter_board",onDismiss:b,children:x.map(({items:e,label:t})=>(0,C.jsx)(n.ms.Section,{label:t,children:e.map(({isSelected:e,onClick:t,text:i})=>(0,C.jsx)(n.ms.Item,{onSelect:t,option:{label:i,value:i},selected:e?{label:i,value:i}:null},i))},t))})]})}let X=(0,f.Yd)(1000332)(function({board:e,currentFilter:t,isHidePinCount:i,isOwnBoard:a,paddingX:o=8,section:l,setCurrentFilter:s,showExperienceTooltip:d}){let c=(0,H.A)(),{eligible_pin_type_filters:u}=l??e,[_,p]=(0,r.useState)(null),h=(0,r.useRef)(null),m=l?l.pin_count:e.pin_count,{experimentalGutter:g}=(0,Y.A)();return(0,C.jsxs)(r.Fragment,{children:[(0,C.jsxs)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:g?{paddingLeft:g,paddingRight:g}:{}},direction:"row",display:"flex",justifyContent:i?"end":"between",paddingX:o,children:[!i&&(0,C.jsx)(n.az,{flex:"grow",children:(0,C.jsx)(n._Y,{accessibilityLevel:2,size:"400",children:t>0&&_?_:(0,U.vQ)(c.nbt(["{{ pinCount }} Épingle", "{{ pinCount }} Épingles"], m ?? 0, "board.experimentalBoardActionBar.pinCount", true),{pinCount:m})})}),(0,C.jsx)(n.az,{ref:h,children:(0,C.jsx)(Q,{board:e,currentFilter:t,eligibleFilters:u?.filter(e=>5!==e.pin_type),isOwnBoard:a,setCurrentFilter:s,setTitle:p,surface:l?"section":"board"})})]}),d&&h&&(0,C.jsx)(n.Wd,{children:(0,C.jsx)(f.Je,{eligibleIds:[502974],placementId:1000332,children:({dismiss:e,experience:{display_data:t}})=>(h&&h.current?.scrollIntoView(!1),(0,C.jsx)(n.fT,{anchor:h.current,idealDirection:"down",message:t.text,onDismiss:e}))})})]})});var Z=i(379853),ee=i(315078),et=i(874434),ei=i(528239),ea=i(331241),er=i(189862),eo=i(267980);let el=()=>{};function en({board:e,currentView:t,handleContentViewChange:i,handleSetCurrentModal:l,handleShowEditSectionModal:s,handleShowMergeSectionsConfirmationModal:d,isBoardPreviewMode:c,isHidePinCount:u,isOwnerOrCollaborator:_,isOwnBoard:p,isPinGridSorted:h,refreshBoardData:f=el,refreshSectionData:m=el,section:g}){(0,r.useEffect)(()=>{(0,a.A)("BoardAndSectionPageContent","/app/www/save/board/BoardPageContainer/BoardAndSectionPageContent.tsx")},[]);let y=(0,b.A)(),x=(0,ee.A)({board:e,viewer:y}),A=(e.access||[]).includes("write"),v=(0,J.WO)()?.boardPinDensity,w=(0,er.A)(g?(0,ea.A)(e,g):""),[j,P]=(0,r.useState)(-1),[B,S]=(0,r.useState)(!1),z=(0,o.wA)();(0,r.useEffect)(()=>()=>{-1!==j&&(g?z((0,$.eO)(q.A.BOARD_SECTION_PINS,g.id??"")):z((0,$.eO)(q.A.BOARDFEED,e.id)))},[e,j,z,g]);let I=(0,r.useCallback)(()=>{j>0&&(P(-1),g?m():f())},[j,m,f,g]),T=(0,r.useMemo)(()=>g?{currentFilter:j,eligibleFilters:g.eligible_pin_type_filters,refreshData:m,sectionId:g.id}:{currentFilter:j,eligibleFilters:e.eligible_pin_type_filters,refreshData:f,setShowExperienceTooltip:S},[g,e.eligible_pin_type_filters,j,f,m]);return g?(0,C.jsx)(Z.T,{value:T,children:(0,C.jsxs)(r.Fragment,{children:[_&&!c&&(0,C.jsx)(X,{board:e,currentFilter:j,isOwnBoard:p,section:g,setCurrentFilter:P,showExperienceTooltip:!1}),(0,C.jsx)(ei.A,{board:e,boardSectionId:g.id,currentFilter:j,denseViewSelected:A&&"dense"===v,inSectionOrganizationMode:!1,inSelectAll:!1,isOwnBoard:p,isOwnerOrCollaborator:_,refreshFilteredFeed:I,renderFooterStory:t=>!e.archived_by_me_at&&_&&(0,C.jsx)(n.az,{marginBottom:12,children:(0,C.jsx)(et.A,{children:(0,C.jsx)(eo.A,{collection:g,storyId:t,url:w})})}),viewer:y,viewParameter:x})]})}):(0,C.jsx)(Z.T,{value:T,children:(0,C.jsxs)(r.Fragment,{children:[_&&!c&&(0,C.jsx)(N.A,{isGetServerRenderGridHeaderStyles:!0,children:(0,C.jsx)(X,{board:e,currentFilter:j,isHidePinCount:u,isOwnBoard:p,paddingX:0,setCurrentFilter:P,showExperienceTooltip:B})}),(0,C.jsx)(W.A,{actions:{onBoardOrganizeClick:el},board:e,currentFilter:j,currentView:t,enableReordering:_,isBoardPreviewMode:c,isOwnBoard:p,isPinGridSorted:h,onContentViewChange:i,onShowEditSectionModal:s,onShowMergeSectionsConfirmationModal:(e,t)=>{l(M.a.sectionMergeConfirm),d(e,t)},refreshFilteredFeed:I,viewParameter:x}),_&&(0,C.jsx)(K,{})]})})}var es=i(528989),ed=i(204071),ec=i(939099),eu=i(231889),e_=i(39019),ep=i(657064),eh=i(301704),ef=i(758092),em=i(909821),eg=i(755372),eb=i(508765),ey=i(885954);function ex({onDismiss:e,boardId:t}){(0,r.useEffect)(()=>{(0,a.A)("ReportBoard","/app/www/profile/UserProfileHeader/ModalContents/FlagProfile/ReportBoard.tsx")},[]);let{data:i}=(0,eb.A)({name:"BoardResource",options:{board_id:t,field_set_key:"detailed"},noCache:!0}),{showErrorToast:o,showSuccessToast:l}=(0,eg.A)(),[n,s]=(0,r.useState)(null),[d,c]=(0,r.useState)(null),{checkExperiment:u}=(0,es.A)();(0,v.A)(()=>{(async()=>{try{let e=await (0,ef.A)(t);e?s(e):o()}catch{o()}})()});let _=async({reasonKey:i})=>{try{await (0,em.A)(t,{reason:i}),e(),l()}catch{e(),o()}},p=async e=>{if(!e)return null;try{return(await (0,eh.A)({url:"/v3/sensitivity/report/",method:"GET",data:{sensitivity_type:e,object_type:"board"}})).resource_response.data}catch{return null}},h=async({reasonKey:i,selectedReason:a})=>{try{let[r]=await Promise.all([p(a?.sensitivity_type??void 0),(0,em.A)(t,{reason:i})]);r?c(r):(e(),l())}catch{e(),o()}};return d?(0,C.jsx)(ey.A,{dismiss:e,objectType:5,sensitivity:d,viewParameter:3846}):(0,C.jsx)(ep.A,{handleSubmitReport:u("ps_dweb_report_advisories_boards_and_messages").anyEnabled?h:_,objectToReport:{type:"board",id:t,userToBlock:i?.owner&&i.owner.id?{id:i.owner.id,fullName:i.owner.full_name,blockedByMe:i.owner.blocked_by_me,username:i.owner.username||""}:null},onDismiss:e,reportingReasons:n})}var eA=i(699418),ev=i(79838);function ew({boardId:e,ownerId:t,ownerUsername:i,ownerName:a,ownerImgSrc:o,ownerIsAdsOnlyProfile:l,ownerAdsOnlyProfileSite:n,children:s}){let{data:d,isLoaded:c}=(0,eb.A)({name:"ApiResource",options:{url:(0,ev.A)({boardId:e})?.concat("collaborators/"),data:{fields:["user.domain_verified","user.explicitly_followed_by_me","user.full_name","user.id","user.image_medium_url","user.image_small_url","user.is_default_image","user.location","user.twitter_url","user.type","user.username","user.verified_identity"],page_size:10}},noCache:!0});return s((0,r.useMemo)(()=>{let e=[{name:a,src:o,href:`/${i}/`,id:t,is_ads_only_profile:l,ads_only_profile_site:n}];return c&&d&&d.length>0&&d.forEach(t=>{e.push((0,eA.A)(t))}),e},[d,c,n,t,o,l,a,i]))}var ej=i(193352),eP=i(233944),eB=i(330439),eS=i(388364);function eC(e){(0,r.useEffect)(()=>{(0,a.A)("FollowingToast","/app/www/board/Header/ActionBar/FollowingToast.tsx")},[]);let{boardImage:t,boardName:i,boardUrl:o,onHide:l}=e,s=(0,H.A)(),d=(0,C.jsx)(n.KJ,{children:(0,U.vQ)(s.bt("Maintenant abonné à {{ boardName }}", "Now following {{ boardName }}", "BoardFollowButton.FollowingToast.nowFollowing", undefined, true),{boardName:(0,C.jsx)(n.KJ,{weight:"bold",children:i},"boardName")})});return(0,C.jsx)(eS.A,{href:o,imageUrl:t,onHide:l,text:d})}var ez=i(507046),eI=i(580496);function eT(e){(0,r.useEffect)(()=>{(0,a.A)("EllipsisMenuButton","/app/www/save/board/BoardPageContainer/EllipsisMenuButton.tsx")},[]);let t=(0,H.A)(),{bgColor:i,board:l,canCreatePincode:s,canEdit:d,handleCreatePincode:c,handleOpenSendBoardFlyout:u,onEditClick:_,onReportClick:p,showFollow:f,showShare:m,size:g}=e,{id:b,name:y,url:x,image_cover_url:v}=l,[w,j]=(0,r.useState)(l.followed_by_me),{showOneToast:P}=(0,A.CG)(),B=(0,o.wA)(),S=(0,h.A)(),z=(0,eP.A)(),I=({event:e})=>{if(S){e.stopPropagation(),S();return}w?(B((0,ez.X)(b,z)),j(!1)):(B((0,ez.e)(b,z)),j(!0),P(({hideToast:e})=>(0,C.jsx)(eC,{boardImage:v??"",boardName:y,boardUrl:x,onHide:e})))},T={edit:t.bt("Modifier", "Edit", "BoardPage.ActionBar.PartnerEdit", undefined, true),create_pincode:t.bt("Créer un Pincode", "Create Pincode", "BoardPage.ActionBar.PartnerPincode", undefined, true),share:t.bt("Partager", "Share", "BoardPage.ActionBar.EllipsisButton", undefined, true),unfollow:t.bt("Se désabonner", "Unfollow", "BoardPage.ActionBar.EllipsisButton", undefined, true),follow:t.bt("S’abonner", "Follow", "BoardPage.ActionBar.EllipsisButton", undefined, true),report:t.bt("Signaler", "Report", "profileHeader.actionBar.overflowFlyout.report", undefined, true)};return(0,C.jsx)(eB.A,{bgColor:i,icon:"ellipsis",id:"more-board-options",label:t.bt("Autres actions", "Other actions", "profileHeader.actionBar.overflow", undefined, true),size:g,children:()=>(0,C.jsxs)(n.ms.Section,{label:t.bt("Options du tableau", "Board options", "profileHeader.actionBar.overflow.header", undefined, true),children:[d&&_&&(0,C.jsx)(n.ms.Item,{onSelect:()=>{_()},option:{label:T.edit,value:T.edit}}),d&&s&&c&&(0,C.jsx)(n.ms.Item,{onSelect:()=>{c()},option:{label:T.create_pincode,value:T.create_pincode}}),m&&u&&(0,C.jsx)(eI.A,{boardKey:{type:"Legacy",data:l},onCreatePincode:c,onOpen:u,children:({onClick:e})=>(0,C.jsx)(n.ms.Item,{onSelect:e,option:{label:T.share,value:T.share}})}),f&&(0,C.jsx)(r.Fragment,{children:w?(0,C.jsx)(n.ms.Item,{onSelect:I,option:{label:T.unfollow,value:T.unfollow}}):(0,C.jsx)(n.ms.Item,{onSelect:I,option:{label:T.follow,value:T.follow}})}),(0,C.jsx)(n.ms.Item,{onSelect:p,option:{label:T.report,value:T.report}})]})})}var eE=i(53301),ek=i(650359),eO=i(218781),eF=i(321571),eD=i(464260),eM=i(13324),eL=i(491149),eN=i(923957),eR=i(86337);function eH(e){(0,r.useEffect)(()=>{(0,a.A)("Facepile","/app/www/save/board/BoardCollaboratorFacepile/Facepile.tsx")},[]);let{faces:t,maxFaces:i,numFaces:o,onOverflowClick:l,shouldNavigate:s=!0}=e,d=[...t].reverse(),c=t.length>i?d.slice(0,i+1):d,u=o-i,_=(0,b.A)(),p=_.isAuth?_?.avatar_color_index:void 0;return(0,C.jsx)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{flexDirection:"row-reverse"}},display:"flex",position:"relative",children:c.map((e,t)=>{let{name:i,src:a,href:r,isDim:o}=e;if(0===t&&u>0)return(0,C.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},height:44,marginStart:-2,overflow:"hidden",rounding:"circle",width:44,children:a&&(0,C.jsx)(n._V,{alt:i,fit:"contain",naturalHeight:44,naturalWidth:44,src:a,children:(0,C.jsx)(n.Rp,{fullHeight:!0,fullWidth:!0,onTap:l,rounding:"circle",children:(0,C.jsx)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.4)"}},display:"flex",height:"100%",justifyContent:"center",rounding:"circle",width:"100%",children:(0,C.jsx)(n.KJ,{color:"inverse",size:"200",weight:"bold",children:u>99?"99+":u})})})})},t);{let e=(0,C.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{opacity:o?.5:1}},marginStart:-2,children:(0,C.jsx)(eN.eu,{color:p,name:i,outline:!0,size:"sm",src:a})},t);return s?(0,C.jsx)(n.$A,{href:r,rounding:"circle",children:e},t):e}})})}function eU({invitedByUser:e,isAccepted:t,onDecline:i,onAccept:o,createdAt:l}){(0,r.useEffect)(()=>{(0,a.A)("BoardCollabInviteBanner","/app/www/BoardCollab/BoardCollabInviteBanner.tsx")},[]);let s=(0,H.A)(),d=(0,b.A)(),c=d.isAuth?d?.avatar_color_index:void 0,{first_name:u,full_name:_,username:p,image_medium_url:h}=e,f=u||_||s.bt("Autres", "others", "Default text when board colalborator name is not known.", undefined, true);return(0,C.jsx)(n.mc,{children:t?(0,C.jsxs)(n.az,{alignItems:"center",borderColor:"decorative",borderWidth:"sm",direction:"row",display:"flex",marginEnd:-1,marginStart:-1,paddingX:5,paddingY:3,rounding:200,width:"100%",children:[(0,C.jsx)(eH,{faces:[{href:d.isAuth?`/${d.username}`:"",name:d.isAuth?d.fullName:"",src:d.isAuth?d.imageMediumUrl:""},{href:`/${p}`,name:_,src:h}],maxFaces:2,numFaces:2}),(0,C.jsxs)(n.az,{marginStart:2,children:[(0,C.jsx)(n.KJ,{weight:"bold",children:s.bt("Vous y êtes !", "You're in!", "Text showing that a user has accepted the board invite and is now a part of the board", undefined, true)}),(0,C.jsx)(n.KJ,{children:(0,eR.A)(s.bt("Collaborez avec {{ invitedByUserName }} sur ce tableau", "Start collaborating with {{ invitedByUserName }} on this board", " - ", undefined, true),{invitedByUserName:f})})]})]}):(0,C.jsx)(n.az,{color:"default",elevation:"shadowFloating",marginEnd:-1,marginStart:-1,paddingX:6,paddingY:6,rounding:600,width:540,children:(0,C.jsxs)(n.so,{alignItems:"center",direction:"row",justifyContent:"start",children:[(0,C.jsx)(n.az,{marginEnd:2,children:(0,C.jsx)(eN.eu,{color:c,name:_,size:"md",src:h})}),(0,C.jsx)(n.az,{flex:"grow",children:(0,C.jsx)(n.KJ,{color:"default",inline:!0,children:(0,U.vQ)(s.bt("{{ user }} vous a invité(e) à participer à ce tableau {{ createdAt }}", "{{ user }} invited you to collaborate on this board {{ createdAt }}", "web.boardView.inviteCard.text", undefined, true),{user:(0,C.jsx)(n.KJ,{color:"default",inline:!0,weight:"bold",children:(0,C.jsx)(n.N_,{display:"inlineBlock",href:`/${p}`,underline:"hover",children:_})},p),createdAt:(0,C.jsx)(n.KJ,{color:"subtle",inline:!0,children:l})})})}),(0,C.jsxs)(n.az,{alignItems:"center",dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},display:"flex",paddingX:1,children:[(0,C.jsx)(n.az,{display:"inlineBlock",marginEnd:2,children:(0,C.jsx)(n.$n,{color:"secondary",onClick:i,size:"lg",text:s.bt("Décliner", "Decline", "decline board collaborator invite or request", undefined, true)})}),(0,C.jsx)(n.$n,{color:"primary",onClick:o,size:"lg",text:s.bt("Accepter", "Accept", "Text to accept a board collaboration invite", undefined, true)})]})]})})})}var eK=i(472262);function eJ({boardId:e,inviteCode:t,shouldAutoAcceptBoardInvite:i,userInviterId:l}){(0,r.useEffect)(()=>{(0,a.A)("BoardCollabInviteBannerContainer","/app/www/BoardCollab/BoardCollabInviteBannerContainer.tsx")},[]);let s=(0,H.A)(),d=(0,A.CG)(),c=(0,eD.A)(),[u,_]=(0,r.useState)(!1),[p,h]=(0,r.useState)(null),f=(0,eL.qJ)(),m=(0,b.A)(),g=(0,o.wA)(),y={board_id:e,field_set_key:"boardBanner",invite_code:t,invited_user_id:m.isAuth&&m.id},x=(0,eK.y9)(),v=(0,eK.JQ)();(0,r.useEffect)(()=>{l&&i&&(x(e).then(()=>{g((0,eK.s5)(e)),f&&d.showToast(({hideToast:e})=>(0,C.jsx)(eS.A,{duration:5e3,onHide:e,text:s.bt("Ça y est, vous y êtes ! Vous pouvez enregistrer des Épingles, organiser des événements avec vos collaborateurs et bien plus encore !", "You're in! Save Pins, plan with collaborators, and more!", "BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast", undefined, true)}))}),eF.A.create("UserResource",{field_set_key:"grid_item",user_id:l}).callGet().then(({resource_response:e})=>{let t=e&&e.data;t&&h(t)}))},[i,l]);let{data:w}=(0,eb.A)({name:"BoardInviteResource",options:y}),j=!!(l&&i)||u,P=!["new","contact_request_not_approved"].includes(w?.status||""),B=t=>{(t?x(e):v(e,y.invited_user_id||"")).then(()=>{t&&(g((0,eK.s5)(e)),_(!0),d.showToast(({hideToast:e})=>(0,C.jsx)(eS.A,{duration:5e3,onHide:e,text:s.bt("Ça y est, vous y êtes ! Vous pouvez enregistrer des Épingles, organiser des événements avec vos collaborateurs et bien plus encore !", "You're in! Save Pins, plan with collaborators, and more!", "BoardCollabInviteBannerContainer.useEffect.acceptedInviteToast", undefined, true)}))),g((0,eM.Q5)("BoardInviteResource",y))})},S=w?.invited_by_user||p,z=j?f:P;return!S||z?null:(0,C.jsx)(n.az,{marginTop:3,paddingY:0,children:(0,C.jsx)(eU,{createdAt:c(w?.created_at||"",!0),invitedByUser:S,isAccepted:j,onAccept:()=>B(!0),onDecline:()=>B(!1)})})}function e$({boardId:e}){let t=(0,l.zy)(),i=t&&t.search?(0,eO.A)(t.search):{},a=i.invite_code,r=i.accept_invite,o=i.inviter_user_id;return(0,C.jsx)(eJ,{boardId:e,inviteCode:a,shouldAutoAcceptBoardInvite:r,userInviterId:o})}let eq=function(e){let{board:t}=e,{id:i,owner:a,sensitivity:o}=t,l=(0,b.A)(),s=l.isAuth?l.id:"",d=a?.id===s,c=(0,ec.bh)(o),{checkExperiment:u}=(0,es.A)(),_=u("ps_board_advisories_ui_refresh").anyEnabled||c;return(0,C.jsxs)(r.Fragment,{children:[!c&&(0,C.jsx)(e$,{boardId:i}),_&&(0,eu.Ay)(o).hasNotices&&o&&(0,C.jsx)(n.az,{paddingY:10,children:(0,C.jsx)(e_.A,{boardId:i,boardName:t.name,notices:o.notices,sensitivity:o,viewParameter:d?3069:3070,viewType:5})})]})};var eW=i(529037),eY=i(806780);function eG(e){(0,r.useEffect)(()=>{(0,a.A)("BoardPageHeader","/app/www/save/board/Headers/BoardHeader/BoardPageHeader.tsx")},[]);let{board:t,collaborators:i,handleCreatePincode:o,handleShowCollabAndPermissionsModal:l,isBoardPreviewMode:s,inRelocateBoardShareButtonExp:d,overFlowActionsButton:c,showPulsar:u,setBoardPreviewMode:p,userBlocked:h}=e,{access:f,archived_by_me_at:m,collaborator_requests_enabled:g,name:y,owner:x,privacy:A,should_show_board_collaborators:v}=t,{nonDisplayedCollaboratorCount:P}=(0,eY.A)({boardCollaboratorCount:t.collaborator_count,collaborators:i,showOnlyOwner:!v,ownerName:x?.full_name}),B=(0,b.A)(),S=(0,w.A)(),z=(0,j.Nn)(B,t.owner?.id||"",S),I=f&&f.includes("write")||z,T=(0,_.A)(t.collaborated_by_me,t.owner?.id,B)||z,E=A===ek.A.BoardPrivacy.SECRET,k=!I&&!h&&g&&!(B.isAuth&&B.isPrivateProfile);return(0,C.jsxs)(n.az,{"data-test-id":"board-header-with-image-container",direction:"column",display:"flex",paddingY:8,children:[(0,C.jsx)(n.so,{alignItems:"stretch",justifyContent:"center",children:(0,C.jsx)(n.az,{maxWidth:800,children:(0,C.jsx)(eq,{board:t})})}),(0,C.jsx)(n.az,{marginTop:4,paddingX:2,children:(0,C.jsx)(eW.A,{board:t,boardName:y??"",collaborators:i,description:t.description??"",handleShowCollabAndPermissionsModal:l,inRelocateBoardShareButtonExp:d,isArchived:!!m,isBoardPreviewMode:s,isOwnerOrCollaborator:T,isSecret:E,nonDisplayedCollaboratorCount:P,onCreatePincode:o,overFlowActionsButton:c,pinCount:t.pin_count??0,sectionCount:t.section_count??0,setBoardPreviewMode:p,showJoinButton:!!k,showPulsar:u})})]})}var eV=i(109907),eQ=i(904396);let eX=e=>{(0,r.useEffect)(()=>{(0,a.A)("SectionHeader","/app/www/save/board/Headers/SectionHeader/SectionHeader.tsx")},[]);let{boardName:t,boardUrl:i,children:o,description:l,overFlowActionsButton:s,sectionName:d,ref:c}=e;return(0,C.jsxs)(n.az,{ref:c,display:"flex",justifyContent:"center",marginBottom:8,paddingX:8,width:"100%",children:[(0,C.jsxs)(n.so,{alignItems:"stretch",direction:"column",gap:2,justifyContent:"start",maxWidth:488,children:[(0,C.jsx)(eV.A,{children:(0,C.jsx)(n.az,{marginTop:4,children:(0,C.jsx)(eQ.e,{children:({active:e,focused:a,hovered:r,onBlur:o,onFocus:l,onMouseEnter:s,onMouseLeave:d})=>(0,C.jsx)(n.$A,{href:i??"",onBlur:o,onFocus:l,onMouseEnter:s,onMouseLeave:d,children:(0,C.jsx)(n._Y,{align:"center",color:e||a||r?"default":"subtle",children:t})})})})}),(0,C.jsx)(eV.A,{children:(0,C.jsxs)(n.az,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:-2,maxWidth:"100%",children:[(0,C.jsx)(n._Y,{align:"center",lineClamp:1,children:d}),!!s&&(0,C.jsx)(n.az,{paddingX:1,children:s})]})}),!!l&&(0,C.jsx)(eV.A,{children:(0,C.jsx)(n.KJ,{align:"center",children:l})})]}),o&&(0,C.jsx)(n.az,{marginTop:8,children:o})]})};function eZ({board:e,handleBoardEditClick:t,handleFollowersClick:i,handleSectionEditClick:o,handleShowBoardArchiveConfirmation:l,handleShowBoardUnarchiveConfirmation:s,handleShowCollabAndPermissionsModal:d,handleShowCreatePincodeModal:c,handleShowMergeModal:p,isBoardPreviewMode:h,section:f,showPulsar:m,setBoardPreviewMode:g}){(0,r.useEffect)(()=>{(0,a.A)("BoardAndSectionPageHeader","/app/www/save/board/BoardPageContainer/BoardAndSectionPageHeader.tsx")},[]);let y=(0,b.A)(),x=(0,w.A)(),A=(0,ed.A)(),v=A&&(0,u.A)(e.privacy)?`?orbac_subject_id=${A}`:"",{name:P,sensitivity:B,access:S,url:z=""}=e,[I,T]=(0,r.useState)(!1),E=(0,j.Nn)(y,e.owner?.id||"",x),k=(0,ec.bh)(B),{checkExperiment:O}=(0,es.A)(),F=O("ps_board_advisories_ui_refresh").anyEnabled||k,{anyEnabled:D}=O("ce_dweb_relocate_board_share_button"),M=S&&S.includes("write")||E?ej.B:ew,L=(0,_.A)(e.collaborated_by_me,e.owner?.id,y)||E,N=null;N=L?(0,C.jsx)(eE.A,{bgColor:f?"secondary":"default",board:e,excludeShareOption:!0,hasBoardToolStyles:D,onArchiveClick:l,onCreatePincode:c,onEditBoardClick:t,onEditSectionClick:o,onMergeClick:p,onUnarchiveClick:s,showCreatePinCodeOption:y.isAuth&&y.isPartner,size:"lg",surface:f?"section":"board"}):(0,C.jsx)(eT,{bgColor:e.header?.large_image_url||!D?"default":"secondary",board:e,onReportClick:()=>T(!0),showFollow:!0,size:D?"xl":"lg"});let R=F&&(0,eu.Ay)(B).hasNotices;return(0,C.jsxs)(r.Fragment,{children:[I&&(0,C.jsx)(ex,{boardId:e.id,onDismiss:()=>T(!1)}),f?(0,C.jsxs)(r.Fragment,{children:[R&&(0,C.jsx)(eV.A,{children:(0,C.jsx)(n.az,{maxWidth:800,paddingY:10,children:B&&(0,C.jsx)(e_.A,{boardId:e.id,boardName:e.name,boardSectionId:f.id,isOwnBoard:E,notices:B.notices,sensitivity:B,viewParameter:E?3069:3070,viewType:5})})}),(0,C.jsx)(eX,{boardName:P,boardUrl:`${z}${v}`,description:f.description??"",overFlowActionsButton:N,sectionName:f.title??""})]}):(0,C.jsx)(n.az,{"data-test-id":"board-header",paddingX:2,children:(0,C.jsx)(M,{boardId:e.id,ownerAdsOnlyProfileSite:e.owner?.ads_only_profile_site||"",ownerId:e.owner?.id||"",ownerImgSrc:e.owner?.image_key||e.owner?.image_medium_url||e.owner?.image_small_url||"",ownerIsAdsOnlyProfile:e.owner?.is_ads_only_profile||!1,ownerName:e.owner?.full_name||"",ownerUsername:e.owner?.username||"",children:t=>(0,C.jsx)(eG,{board:e,collaborators:t,handleCreatePincode:c,handleShowCollabAndPermissionsModal:d,inRelocateBoardShareButtonExp:D,isBoardPreviewMode:h,onFollowersClick:i,overFlowActionsButton:N,setBoardPreviewMode:g,showPulsar:m,userBlocked:!!e.owner?.blocked_by_me})})})]})}function e0({boardId:e,collaboratorId:t,collaboratorUsername:i}){(0,r.useEffect)(()=>{(0,a.A)("BoardOwnershipTransferUpsell","/app/www/save/board/BoardPageContainer/BoardOwnershipTransferUpsell.tsx")},[]);let s=(0,o.wA)(),d=(0,l.Zp)(),c=(0,H.A)();return(0,C.jsx)(n.so,{justifyContent:"center",width:"100%",children:(0,C.jsx)(n.az,{marginTop:8,maxWidth:960,paddingX:8,children:(0,C.jsx)(n.Sl,{message:c.bt("Il vous a été demandé de prendre en charge la propriété de ce tableau", "You’ve been requested to take over ownership of this board", "boardOwnershipTransferUpsell.message", undefined, true),primaryAction:{accessibilityLabel:c.bt("Accepter", "Accept", "boardOwnershipTransferUpsell.acceptAccessibilityLabel", undefined, true),label:c.bt("Accepter", "Accept", "boardOwnershipTransferUpsell.acceptLabel", undefined, true),onClick:()=>{(0,eh.A)({url:"/v3/boards/{board}/collaborators/requests/ownership/",urlParams:{board:e},method:"PUT",data:{collaborator:t}}),s((0,F.SA)(i)),d(`/${i}/`)}},secondaryAction:{accessibilityLabel:c.bt("Décliner", "Decline", "boardOwnershipTransferUpsell.declineAccessibilityLabel", undefined, true),label:c.bt("Décliner", "Decline", "boardOwnershipTransferUpsell.declineLabel", undefined, true),onClick:()=>{s((0,eK.Im)(e,t))}},title:c.bt("Demande de propriété du tableau en attente", "Board ownership request pending", "boardOwnershipTransferUpsell.title", undefined, true)})})})}eX.displayName="SectionHeader";var e1=i(146883);function e3({handleAddSection:e,handleCreatePin:t,handleCreateStoryPin:i,surface:o}){(0,r.useEffect)(()=>{(0,a.A)("FloatingAddButton","/app/www/save/board/BoardPageContainer/FloatingAddButton.tsx")},[]);let{logContextEvent:l}=(0,p.o)(),s=(0,H.A)(),d=(0,r.useRef)(null),c="board"===o?s.bt("Créer une Épingle ou ajouter un sous-tableau", "Create a Pin or add a Section", "BoardPage.ActionBar.AddPinOrSection", undefined, true):s.bt("Créer une Épingle", "Create Pin", "BoardPage.ActionBar.AddPin", undefined, true);return(0,C.jsx)(n.az,{bottom:!0,dangerouslySetInlineStyle:{__style:{boxShadow:"0px 0px 20px rgba(0, 0, 0, 0.1)",left:"50%",transform:"translate(-50%)"}},marginBottom:4,position:"fixed",rounding:"circle",width:56,children:(0,C.jsx)(e1.A,{idealDirection:"up",isWithinFixedContainer:!0,onAddSection:e,onCreatePin:t,onCreateStoryPin:i,onOpen:()=>{l({event_type:101,element:10776,component:13216,view_type:5,view_parameter:3069})},surface:o,children:({active:e,accessibilityControls:t,openFlyout:i})=>(0,C.jsxs)(n.az,{color:"default",display:"inlineBlock",rounding:"circle",children:[(0,C.jsx)(n.kE,{ref:d,accessibilityControls:t,accessibilityExpanded:e,accessibilityLabel:c,accessibilityPopupRole:"dialog",icon:"plus",onClick:i,selected:e,tooltip:{text:c}}),(0,C.jsx)(f.xe,{anchors:{3006:d.current},idealDirection:"up",placementId:18}),(0,C.jsx)(f.X$,{anchors:{3006:d.current},idealDirection:"up",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})})})}var e5=i(445797);let e6=i(279416).QZ+1;function e2({handleGoBack:e,hideSensitivityScreen:t,sensitivityScreenAuxData:i}){(0,r.useEffect)(()=>{(0,a.A)("SensitivityScreen","/app/www/save/board/BoardPageContainer/SensitivityScreen.tsx")},[]);let o=(0,H.A)();return(0,e5.r)({component:13860,view_type:5,aux_data:i}),(0,C.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.8)"}},display:"flex",height:"100%",justifyContent:"center",position:"fixed",top:!0,width:"100%",zIndex:new n.rk(e6),children:(0,C.jsx)(n.az,{dangerouslySetInlineStyle:{__style:{paddingTop:260}},children:(0,C.jsxs)(n.so,{alignItems:"center",direction:"column",gap:{row:0,column:8},maxWidth:500,children:[(0,C.jsx)(n._Y,{align:"center",color:"light",children:o.bt("Ce tableau peut comporter certains contenus sensibles.", "This board may contain sensitive content", "boardPageContainer.sensitivityScreen.heading", undefined, true)}),(0,C.jsxs)(n.so,{gap:{row:6,column:0},children:[(0,C.jsx)(n.$n,{color:"primary",onClick:e,size:"lg",text:o.bt("Retour", "Go back", "boardPageContainer.sensitivityScreen.backButton", undefined, true)}),(0,C.jsx)(n.$n,{color:"tertiary",onClick:t,size:"lg",text:o.bt("Afficher quand même", "View anyway", "boardPageContainer.sensitivityScreen.viewButton", undefined, true)})]}),(0,C.jsx)(n.az,{paddingY:4,children:(0,C.jsx)(n.KJ,{align:"center",color:"light",overflow:"normal",size:"200",children:(0,U.vQ)(o.bt("Si vous voyez quoi que ce soit qui enfreint nos {{communityGuidelines}}, veuillez nous le signaler en cliquant sur le bouton « ... » en bas de n’importe quelle Épingle.", "If you see anything that violates our {{communityGuidelines}}, please report it to us by clicking the \"...\" button at the bottom of any Pin", "boardPageContainer.sensitivityScreen.text", undefined, true),{communityGuidelines:(0,C.jsx)(n.KJ,{color:"light",inline:!0,size:"200",underline:!0,children:(0,C.jsx)(n.N_,{display:"inlineBlock",href:"https://policy.pinterest.com/en/community-guidelines",target:"blank",underline:"hover",children:o.bt("Guide pour la communauté", "Community Guidelines", "boardPageContainer.sensitivityScreen.communityGuidelines", undefined, true)})})})})})]})})})}var e4=i(972955),e9=i(723029),e8=i(105506),e7=i(693347),te=i(593347);function tt(e){(0,r.useEffect)(()=>{(0,a.A)("SectionAddedToast","/app/www/save/board/SectionAddedToast.tsx")},[]);let t=(0,H.A)(),{boardUrl:i="",onHide:o,slug:l}=e;return(0,C.jsx)(eS.A,{duration:2e3,href:`${i}${l}`,onHide:o,text:t.bt("Sous-tableau ajouté !", "Section added!", "Toast for successfully creating a new board section", undefined, true)})}var ti=i(688404);let ta=()=>{};function tr({board:e,initialModalType:t,refreshBoardData:i=ta,refreshSectionData:S=ta,section:z,showPulsar:I}){let T,E,N;(0,r.useEffect)(()=>{(0,a.A)("BoardAndSectionToolsPageContainer","/app/www/save/board/BoardPageContainer/BoardAndSectionToolsPageContainer.tsx")},[]);let{experience:R,setExtraContext:U}=(0,g.A)(18,{board_id:e.id,pin_count:e.sectionless_pin_count??0}),[K,$]=(0,r.useState)(!1),{logContextEvent:q}=(0,p.o)(),W=(0,o.wA)(),Y=(0,h.A)(),{setFooterPlusButtonVisible:G}=(0,B.Y)(),V=(0,b.A)(),Q=(0,w.A)(),X=(0,O.Sd)(V,e),{collaborated_by_me:Z,id:et,owner:ei,pending_ownership_transfer:ea,pin_count:er,privacy:eo}=e,{pin_count:el}=z||{},es=ei?.id||"",ec=(0,j.Hs)(V,es,Q),eu=(0,_.A)(Z,es,V)||ec,e_=V.isAuth&&V.id===ea,ep=X?3069:3070,eh=(0,j.H7)(V,Q),ef=eh&&(0,u.A)(eo)?`?orbac_subject_id=${eh}`:"",em=(0,d.A)(!0),eg=!!z;(0,r.useEffect)(()=>{let t="other";X?t="own":(0,O.p$)(V,e)&&(t="collaborator"),U({board_ownership:t})},[X,V,e,U]),(0,r.useEffect)(()=>(eu&&G(!1),()=>{G(!0)}),[G,eu]);let{showOneToast:ey}=(0,A.CG)(),ex=(0,l.Zp)(),eA=(0,l.zy)(),{previous:ev}=(0,y.qD)(),ew=0===ev.length;T=(0,J.WO)(),E=(0,b.A)(),N=(0,eb.A)({name:"UserMetadataResource",options:{user:E}}),(0,r.useEffect)(()=>{if(N&&N.data&&!T?.boardPinDensity){let{profile_pin_rep_view_type:e}=N.data;T?.setBoardPinDensity(e??"regular")}});let{handleShowMergeSectionsConfirmationModal:ej,mergeConfirmationModalProps:eP,onConfirm:eB}=(0,L.A)({board:e}),eS=function(){let e=(0,H.A)(),{logContextEvent:t}=(0,p.o)(),i=(0,o.wA)(),{showBlockingActionToast:a}=(0,e9.A)(),r=(0,ed.A)();return({board:o,targetBoard:l})=>{t({event_type:7172,object_id_str:o.id,aux_data:{merge_flow:"menu"}}),i((0,e8.A)(o.id,l.id,r)).then(()=>{a({actionType:"merge",board:l})}).catch(t=>{e4.A.showError(t.message||e.bt("Erreur lors de la fusion des tableaux", "Failed to merge boards", "Error message when failed to merge boards", undefined, true))})}}(),eC={board_id:e.id,reason:e.sensitivity_screen?.reason||""},[ez,eI]=(0,r.useState)(!!e.sensitivity_screen?.show_warning&&!eu),[eT,eE]=(0,r.useState)(null),[ek,eO]=(0,r.useState)(t||null),[eF,eD]=(0,r.useState)(e&&(0,te.A)(V,e)||"custom"),eM=()=>eO(M.a.boardArchiveConfirmation),eL=()=>{ex(V.isAuth?`/${(0,j.TO)(V,Q)}`:"/",{replace:!0})},eN=e=>{Y?Y():(eO(M.a.editSection),eE(e))},eR={board_id:e.id,board_pin_count:er};return(0,v.A)(()=>{let{shouldOpenCollaboratorsModal:e}=eA.state||Object.freeze({});e&&(eO(M.a.collaboratorsAndPermissions),ex({...eA,state:{...eA.state,shouldOpenCollaboratorsModal:!1}},{replace:!0}))}),(0,C.jsx)(P.A,{objectIdStr:et,viewParameter:ep,viewType:5,children:(0,C.jsx)(x.A,{auxData:eR,objectId:et,view:5,viewParameter:(0,ee.A)({board:e,viewer:V}),children:(0,C.jsxs)(r.Fragment,{children:[(0,C.jsxs)(n.az,{dangerouslySetInlineStyle:{__style:ez?{filter:"blur(30px)"}:{}},children:[(0,C.jsx)(f.Vj,{experience:R,placementId:18}),(0,C.jsx)(m.A,{placementId:1000647}),(0,C.jsxs)(ti.o,{children:[(0,C.jsx)(eZ,{board:e,handleBoardEditClick:()=>{q({event_type:101,element:10845,component:13216,view_type:5,view_parameter:3069}),eO(M.a.boardEdit)},handleFollowersClick:()=>{eO(M.a.followers)},handleSectionEditClick:()=>eN(),handleShowBoardArchiveConfirmation:eM,handleShowBoardUnarchiveConfirmation:()=>eO(M.a.boardUnarchiveConfirmation),handleShowCollabAndPermissionsModal:()=>eO(M.a.collaboratorsAndPermissions),handleShowCreatePincodeModal:()=>{Y?Y():(q({event_type:101,element:10781,component:13217,view_type:5,view_parameter:3069}),eO(M.a.pincode))},handleShowMergeModal:()=>{Y?Y():eO(M.a.mergeBoard)},isBoardPreviewMode:K,section:z,setBoardPreviewMode:$,showPulsar:I}),eu&&eg&&!K&&(0,C.jsx)(n.az,{marginBottom:6,marginTop:6,children:(0,C.jsx)(e7.A,{boardId:e.id,isBoardEmpty:!er||!el,sectionId:z?.id})}),e_&&(0,C.jsx)(e0,{boardId:e.id,collaboratorId:V.isAuth?V.id:"",collaboratorUsername:V.isAuth?V.username:""}),ek!==M.a.jumpstartBoard&&(0,C.jsx)(x.A,{auxData:eR,component:178,objectId:e.id,view:5,viewParameter:X?3069:3070,children:(0,C.jsx)(en,{board:e,currentView:eF,handleContentViewChange:e=>eD(e),handleSetCurrentModal:eO,handleShowEditSectionModal:eN,handleShowMergeSectionsConfirmationModal:ej,isBoardPreviewMode:K,isHidePinCount:!eg,isOwnBoard:X,isOwnerOrCollaborator:eu,isPinGridSorted:"custom"!==eF,refreshBoardData:i,refreshSectionData:S,section:z})}),(0,C.jsx)(k,{boardId:e.id,handleShowArchiveConfirmation:eM}),eu&&(0,C.jsx)(e3,{handleAddSection:()=>{Y?Y():(q({event_type:101,element:10779,component:13217,view_type:5,view_parameter:3069}),eO(M.a.simpleCreateSection))},handleCreatePin:()=>{Y?Y():(q({component:13217,element:10643,event_type:101,view_parameter:3069,view_type:5}),ex("/pin-builder/",{state:{board:e,boardSection:z}}))},handleCreateStoryPin:()=>{Y?Y():(q({aux_data:{entry_type:"board_plus_button"},component:13217,element:10949,event_type:101,view_parameter:3069,view_type:5}),ex((0,s.A)(em),{state:{board:e,entry_type:"board_plus_button",boardSection:z}}))},surface:z?"section":"board"})]}),ek&&(0,C.jsx)(D.A,{actions:{completeCreateSectionAction:t=>{Y?Y():(eO(null),ey(({hideToast:i})=>(0,C.jsx)(tt,{boardUrl:e.url,onHide:i,slug:t.slug??""})))},onBoardArchiveChange:()=>{W((0,F.SA)(V.isAuth?V.username:""))},onBoardDelete:()=>{i(),eL()},onBoardLeave:()=>{W((0,F.SA)(V.isAuth?V.username:"")),eL()},onBoardMerge:t=>{eS({board:e,targetBoard:t}),eL()},onBoardSectionDelete:()=>{if(eE(null),eO(null),z){let t=e.url??"";ex(`${t}${ef}`,{replace:!0})}},onBoardSectionSave:({slug:t})=>{eE(null),eO(null),z&&ex(`${e.url??""}${t}/${ef}`,{replace:!0})},onConfirmMergeSection:eB},board:e,boardSection:z||eT,currentModal:ek,mergeConfirmationModalProps:eP,onClearModal:()=>eO(null)}),(0,C.jsx)(f.Gl,{placementId:18}),(0,C.jsx)(c.A,{placementId:18}),(0,C.jsx)(f.aR,{experience:R,placementId:18})]}),ez&&(0,C.jsx)(e2,{handleGoBack:()=>{q({event_type:101,component:13860,element:73,view_type:5,aux_data:{...eC}}),ew&&ex("/",{replace:!0}),ex(-1)},hideSensitivityScreen:()=>{W((0,F.oj)(e.id)),q({event_type:101,component:13860,element:12448,view_type:5,aux_data:{...eC}}),eI(!1)},sensitivityScreenAuxData:eC})]})})})}},693347(e,t,i){i.d(t,{A:()=>C});var a=i(335831),r=i(859471),o=i(836737),l=i(731634),n=i(528989),s=i(645176),d=i(167284),c=i(204071),u=i(657737),_=i(979638),p=i(129625),h=i(746743),f=i(47998),m=i(376195),g=i(218781),b=i(119795),y=i(613817),x=i(663647),A=i(321791),v=i(688404),w=i(562615);let j=88,P=30,B=({boardTool:e,boardId:t,boardSectionId:i,iconSize:l=P,index:n,toolSize:s=j})=>{(0,r.useEffect)(()=>{(0,a.A)("BoardTool","/app/www/save/board/BoardTools/BoardTool.tsx")},[]);let[d,c]=(0,r.useState)(!1),u=(0,v.X)(),{icon:B,link:S,text:C,tool:z}=e,{section_slug:I}=(0,_.g)(),T=S.split("/").slice(0,3),E=S.split("/").slice(4),k=S.split("/")[3],O=6===z,F=k!==I&&i&&I&&!O?[...T,I,...E].join("/"):S,{isRTL:D}=(0,m._8)(),{logContextEvent:M}=(0,p.o)(),{owner:L,pin_count:N,section_count:R}=(0,A.oW)()(t)||{},H=(0,f.A)(),U=H.isAuth?H.id:"",K=L?.id===U?3069:3070,J=0===z,$=e=>{1===z&&M({event_type:e,view_type:i?164:5,view_parameter:K,element:10600,aux_data:{board_id:t,board_pin_count:N,board_section_count:R,board_section_id:i,grid_index:n}}),J&&M({event_type:e,view_type:i?164:5,view_parameter:K,component:14926,element:11990,aux_data:{board_id:t,board_session_id:u}}),O&&101===e&&M({event_type:101,component:14926,view_type:i?164:5,view_parameter:K,element:12893,aux_data:{board_id:t,board_session_id:u,board_section_id:i}})};(0,b.A)(()=>{$(120),J&&$(13)});let q=(0,r.useRef)(null),{setGroupBoardMessageButton:W}=(0,x.A)(),{conversations:{showConversationsDropdown:Y},conversationOpen:G,dropdownOpen:V,dropdownClose:Q}=(0,y.A)(),X=(0,_.zy)(),{conversation_id:Z,tab:ee}=(0,g.A)(X.search),et=4===z&&!!Z&&"inbox"===ee;et&&W(q.current);let ei=(e=>{switch(e){case 0:return 3003;case 1:return 3004;case 2:return 3005;default:return}})(z);return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(o.$A,{ref:q,accessibilityLabel:C,href:et?"":F,onBlur:()=>c(!1),onFocus:()=>c(!0),onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),onTap:()=>{et&&($(102),Y?Q():(V(),G(Z))),(J||O)&&$(101)},rounding:600,children:(0,w.jsxs)(o.az,{dangerouslySetInlineStyle:{__style:{paddingBottom:"1px"}},direction:"column",display:"flex",justifyContent:"center",children:[(0,w.jsx)(o.az,{alignItems:"center",alignSelf:"center",color:d?void 0:"secondary",dangerouslySetInlineStyle:d?{__style:{backgroundColor:"#e2e2e2"}}:void 0,display:"flex",height:s,justifyContent:"center",rounding:600,width:s,children:(0,w.jsx)(o.In,{accessibilityLabel:C,color:"default",icon:"text-align-left"===B&&D?"text-align-right":B,size:l})}),(0,w.jsx)(o.az,{paddingY:1,width:s,children:(0,w.jsx)(o.KJ,{align:"center",lineClamp:2,size:"100",weight:"bold",children:C})})]})}),ei&&(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(h.xe,{anchors:{[ei]:q.current},placementId:18,positionRelativeToAnchor:!1}),(0,w.jsx)(h.X$,{anchors:{[ei]:q.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})]})};function S(e){let{boardId:t,sectionId:i,iconSize:a,isBoardEmpty:r,toolSize:l,boardOrSectionToolsRef:d}=e,u=(0,c.A)(),{checkExperiment:_}=(0,n.A)(),p=_("web_collage_creation").anyEnabled&&!r&&_("web_collage_navigate_from_own_board").anyEnabled,{data:h}=(0,s.A)(d);if(!h||!h.length)return null;let f=h.filter(({tool:e})=>!u||2===e).filter(({tool:e})=>!r||2!==e).filter(({tool:e})=>p||6!==e).map(e=>6===e.tool?{...e,link:`/collage-creation-tool/?boardId=${t}${i?`&sectionId=${i}`:""}`}:e);return f.length?(0,w.jsx)(o.az,{"data-test-id":"board-tools",role:"list",children:(0,w.jsx)(o.so,{alignItems:"start",justifyContent:"center",width:"100%",children:f.map((e,r)=>(0,w.jsx)(o.az,{"data-test-id":e.text,padding:1,role:"listitem",children:(0,w.jsx)(B,{boardId:t,boardSectionId:i,boardTool:e,iconSize:a,index:r,toolSize:l})},e.id))})}):null}function C(e){(0,r.useEffect)(()=>{(0,a.A)("BoardToolsContainer","/app/www/save/board/BoardTools/BoardToolsContainer.tsx")},[]);let{sectionId:t,boardId:i}=e,o=(0,c.A)(),n=!!t,{ref:s}=(0,d.A)({name:n?"SectionToolsFeedResource":"BoardToolsFeedResource",options:n?{sectionId:t,orbacSubjectId:o}:{boardId:i,orbacSubjectId:o}});return(0,w.jsx)(l.A,{name:"BoardToolsContainer_ResourceError",children:(0,w.jsx)(r.Suspense,{fallback:(0,w.jsx)(u.A,{}),children:(0,w.jsx)(S,{...e,boardOrSectionToolsRef:s})})})}B.displayName="BoardTool"},703704(e,t,i){i.d(t,{A:()=>a});let a=(0,i(859471).createContext)({showAbout:!1,setShowAbout:()=>{}})},53301(e,t,i){i.d(t,{A:()=>h});var a=i(335831),r=i(859471),o=i(836737),l=i(129625),n=i(746743),s=i(396901),d=i(169250),c=i(154537),u=i(89401),_=i(792534),p=i(562615);function h({board:e,hasBoardToolStyles:t,onArchiveClick:i,onCreatePincode:h,onEditBoardClick:f,onEditSectionClick:m,onMergeClick:g,onShowAbout:b,onUnarchiveClick:y,showArchiveOnly:x=!1,showCreatePinCodeOption:A,surface:v,excludeShareOption:w,size:j="sm",bgColor:P="secondary"}){(0,r.useEffect)(()=>{(0,a.A)("BoardHeaderOverflowFlyoutButton","/app/www/save/board/Headers/BoardHeader/BoardHeaderOverflowFlyoutButton.tsx")},[]);let B=(0,s.A)(),S=(0,r.useRef)(null),{logContextEvent:C}=(0,l.o)(),[z,I]=(0,r.useState)(!1),[T,E]=(0,r.useState)("boardOptions"),[k,O]=(0,r.useState)(!1),F=e.header?.large_image_url?"default":"secondary";F=k?void 0:F;let D="automagical"===e.layout,M=()=>{I(!1),E("boardOptions")},L={description:e.description,id:e.id,imageUrl:e.image_cover_url,name:e.name,type:"board",url:e.url,ownerId:e.owner?.id},N=()=>{I(e=>!e),E("boardOptions")},R=!!e.archived_by_me_at,H=["section"===v?function({handleClose:e,onEditClick:t,setMenuType:i},a,r){return{items:[{dataTestId:"edit-section-button",text:a.bt("Section Modification", "Edit Section", "BoardHeader.getSectionOptionsCategory.EditOption", undefined, true),onClick:()=>{t(),e()}},{text:a.bt("Partager", "Share", "BoardHeader.getSectionOptionsCategory.ShareOption", undefined, true),onClick:()=>{(0,c.A)(r),i("boardShare")}}],label:a.bt("Options de sous-tableaux", "Section options", "BoardHeader.getSectionOptionsCategory.OptionsCategory", undefined, true)}}({handleClose:M,onEditClick:m,setMenuType:E},B,C):function({handleClose:e,isArchived:t,isAutomagical:i,onArchiveClick:a,onCreatePincode:r,onEditClick:o,onMergeClick:l,onShowAbout:n,onUnarchiveClick:s,setMenuType:d,showCreatePinCodeOption:u,isAdOnlyPins:_,excludeShareOption:p},h,f,m){let g=[];return i?g.push({dataTestId:"aboutRecommendationsButton",text:h.bt("À propos des tableaux créés pour vous", "About boards made for you", "BoardHeader.BoardOptionsFlyout.AboutBoardsForYouOption", undefined, true),onClick:()=>{n?.(),e()}}):(m||g.push({dataTestId:"editBoardButton",text:h.bt("Modifier", "Edit board", "BoardHeader.BoardOptionsFlyout.EditOption", undefined, true),onClick:()=>{o(),e()}}),p||g.push({dataTestId:"shareBoardButton",text:h.bt("Partager", "Share", "BoardHeader.BoardOptionsFlyout.ShareOption", undefined, true),onClick:()=>{(0,c.A)(f),d("boardShare")}}),_||t||g.push({dataTestId:"mergeBoardButton",text:h.bt("Fusionner", "Merge", "BoardHeader.BoardOptionsFlyout.MergeOption", undefined, true),onClick:()=>{l(),e()}}),t?g.push({dataTestId:"unarchiveBoardButton",text:h.bt("Désarchiver", "Unarchive", "BoardHeader.BoardOptionsFlyout.UnarchiveOption", undefined, true),onClick:()=>{s(),e()}}):g.push({dataTestId:"archiveBoardButton",text:h.bt("Archiver", "Archive", "BoardHeader.BoardOptionsFlyout.ArchiveOption", undefined, true),onClick:()=>{a(),e()}}),u&&!m&&g.push({dataTestId:"createPinCodeBoardButton",text:h.bt("Créer un Pincode", "Create Pincode", "BoardHeader.BoardOptionsFlyout.PincodeOption", undefined, true),onClick:()=>{r(),e()}})),{items:g,label:h.bt("Options du tableau", "Board options", "BoardHeader.BoardOptionsFlyout.OptionsCategory", undefined, true)}}({handleClose:M,isArchived:R,isAutomagical:D,onArchiveClick:i,onCreatePincode:h,onEditClick:f,onMergeClick:g,onShowAbout:b,onUnarchiveClick:y,setMenuType:E,showCreatePinCodeOption:A,isAdOnlyPins:e.is_ads_only,excludeShareOption:w},B,C,x)];return(0,p.jsxs)(o.az,{position:"relative",zIndex:new o.rk(d.d1-1),children:[(0,p.jsx)(o.az,{ref:S,"data-test-id":"more-board-options",children:t?(0,p.jsx)(o.Rp,{onTap:N,rounding:600,children:(0,p.jsx)(o.az,{color:z?"selected":F,dangerouslySetInlineStyle:k?{__style:{backgroundColor:"#e2e2e2"}}:void 0,display:"flex",justifyContent:"center",onMouseEnter:()=>O(!0),onMouseLeave:()=>O(!1),paddingX:5,paddingY:5,rounding:600,children:(0,p.jsx)(o.In,{accessibilityLabel:"more options",color:z?"inverse":"default",icon:"ellipsis",size:24})})}):(0,p.jsx)(o.K0,{accessibilityLabel:B.bt("Plus d’options de tableau", "More Board options", "BoardHeaderOVerflowFlyoutButton.IconButton.AccessibilityLabel", undefined, true),bgColor:P,icon:"ellipsis",iconColor:"default",onClick:N,selected:z,size:j})}),(0,p.jsx)(n.xe,{anchors:{3001:S.current},onCompleteByAnchor:{3001:N},placementId:18}),(0,p.jsx)(n.X$,{anchors:{3001:S.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0}),z&&("boardOptions"===T?(0,p.jsx)(o.ms,{anchor:S.current,disableMobileUI:!0,id:"board_options",onDismiss:M,zIndex:_.u$,children:H.map(({items:e,label:t})=>(0,p.jsx)(o.ms.Section,{label:t,children:e.map(({dataTestId:e,isSelected:t,onClick:i,text:a})=>(0,p.jsx)(o.ms.Item,{dataTestId:e,onSelect:i,option:{label:a,value:a},selected:t?{label:a,value:a}:null},a))},t))}):(0,p.jsx)(o.AM,{anchor:S.current,onDismiss:M,size:"flexible",children:(0,p.jsx)(u.A,{component:13216,onCreatePincodeClick:h,onHide:M,sendShareSurface:5,sendType:"board",sharedObject:L,viewType:5})}))]})}},529037(e,t,i){i.d(t,{A:()=>D});var a=i(335831),r=i(859471),o=i(836737),l=i(548588),n=i(925097),s=i(699418),d=i(923957),c=i(396901),u=i(969168),_=i(223559),p=i(693347),h=i(130331),f=i(905995),m=i(997100),g=i(106386),b=i(129625),y=i(268989),x=i(47998),A=i(906494),v=i(472262),w=i(562615);function j(e){(0,r.useEffect)(()=>{(0,a.A)("ButtonElement","/app/www/save/board/JoinButton/ButtonElement.tsx")},[]);let t=(0,c.A)(),{onClick:i,requested:l,size:n,useAlternateText:s}=e;return(0,w.jsx)(o.$n,{fullWidth:!0,onClick:i,size:n||"md",text:(l?function(e,t){return t?e.bt("Annuler", "Cancel", "BoardPage.BoardJoinButton.cancel", undefined, true):e.bt("Annuler la demande", "Cancel request", "[Button] Cancel request to join a group board as a collaborator", undefined, true)}:function(e,t){return t?e.bt("Rejoindre", "Join", "BoardPage.BoardJoinButton.join", undefined, true):e.bt("Demander à rejoindre le tableau", "Request to join", "[Button] Request to join a group board as a collaborator", undefined, true)})(t,s)})}var P=i(388364),B=i(410899);function S(e){(0,r.useEffect)(()=>{(0,a.A)("JoinCancelToast","/app/www/save/board/JoinButton/JoinCancelToast.tsx")},[]);let t=(0,c.A)(),{boardImage:i,boardName:l,boardUrl:n,onHide:s}=e,d=(0,w.jsx)(o.KJ,{children:(0,B.vQ)(t.bt("Vous avez annulé votre demande de collaboration au tableau {{ boardName }}", "You've cancelled the request to collaborate on {{ boardName }}", "Board.JoinButton.CancelToast", undefined, true),{boardName:(0,w.jsx)(o.KJ,{inline:!0,weight:"bold",children:l})})});return(0,w.jsx)(P.A,{duration:3e3,href:n,imageUrl:i,onHide:s,text:d})}function C(e){(0,r.useEffect)(()=>{(0,a.A)("JoinRequestToast","/app/www/save/board/JoinButton/JoinRequestToast.tsx")},[]);let t=(0,c.A)(),{boardImage:i,boardName:l,boardUrl:n,onHide:s}=e,d=(0,w.jsx)(o.KJ,{children:(0,B.vQ)(t.bt("Vous avez demandé à rejoindre {{ boardName }}", "You've requested to join {{ boardName }}", "Board.JoinButton.RequestToast", undefined, true),{boardName:(0,w.jsx)(o.KJ,{inline:!0,weight:"bold",children:l})})});return(0,w.jsx)(P.A,{href:n,imageUrl:i,onHide:s,text:d})}function z(e){let{boardId:t,boardImage:i,boardName:a,boardUrl:r,isRequestedByMe:l,showPulsar:n,size:s,variant:d}=e,{logContextEvent:c}=(0,b.o)(),u=(0,g.wA)(),_=(0,x.A)(),p=(0,A.CG)(),h=_.isAuth&&_.id||"",f=(0,y.A)(),m=(0,v.z1)(),P=({event:e})=>{e.preventDefault(),e.stopPropagation(),f?f():l?(u((0,v.z$)(t,h)),p.showOneToast(({hideToast:e})=>(0,w.jsx)(S,{boardImage:i,boardName:a,boardUrl:r,onHide:e}))):(u(m(t)),p.showOneToast(({hideToast:e})=>(0,w.jsx)(C,{boardImage:i,boardName:a,boardUrl:r,onHide:e}))),function(e){let{action:t,id:i,logContextEvent:a,url:r}=e;a({event_type:101,component:1,element:"request"===t?7499:7547,object_id_str:i,view_type:4,aux_data:{current_page_url:r}})}({action:l?"request":"cancel",id:t,logContextEvent:c,url:r})};return h?(0,w.jsxs)(o.az,{display:"flex",position:"relative",children:[(0,w.jsx)(j,{onClick:P,requested:l,size:s,useAlternateText:"lego"===d}),n&&(0,w.jsx)(o.Rp,{onTap:e=>{P(e)},children:(0,w.jsx)(o.az,{dangerouslySetInlineStyle:{__style:{marginLeft:-86,marginTop:-28}},display:"inlineBlock",position:"absolute",children:(0,w.jsx)(o.EV,{paused:l})})})]}):null}var I=i(600727);function T({board:e,boardName:t,collaborators:i,isArchived:l,isBoardPreviewMode:n,isSecret:g,nonDisplayedCollaboratorCount:b,pinCount:y,sectionCount:x,description:A,showPinCount:v,showPulsar:j,showJoinButton:P,isOwnerOrCollaborator:B,handleShowCollabAndPermissionsModal:S}){(0,r.useEffect)(()=>{(0,a.A)("BoardHeaderDetails","/app/www/save/board/Headers/BoardHeader/BoardHeaderDetails/BoardHeaderDetails.tsx")},[]);let C=(0,c.A)(),{automagical_board_metadata:T,featured_board_metadata:E,id:k,image_cover_url:O,layout:F,owner:D={},should_show_board_collaborators:M,url:L,viewer_collaborator_join_requested:N}=e,{curator:R,is_sponsored_content:H}=E||{},{board_type:U,tag_title:K,tagline:J,topic_name:$,upcoming_update_date_text:q}=T||{},W=H&&R?(0,s.A)(R):null,Y=(0,I.A)(e),G=B&&!n,V="automagical"===F,Q=M&&i.length>1,X=(0,r.useMemo)(()=>{let e=[];return R?e.push((0,s.A)(R)):Q?e.push(...i):D&&e.push((0,s.A)(D)),e},[Q,i,R,D]),Z=E?.board_tag;return(0,w.jsxs)(o.so,{alignItems:"start",dataTestId:"board-header-details",direction:"column",gap:6,justifyContent:"start",maxWidth:640,children:[(0,w.jsxs)(o.so,{alignItems:"start",direction:"column",gap:3,justifyContent:"start",children:[(()=>{let{board_subtitle:e}=E||{};return e?(0,w.jsx)(o.az,{marginBottom:-1,children:(0,w.jsx)(o.KJ,{weight:"bold",children:e})}):null})(),(0,w.jsx)(o._Y,{id:"board-name",size:"700",children:t}),(0,w.jsx)(f.A,{fontSize:"200",isArchived:l,isAutomagical:V,isFeaturedBoard:Y,isSecret:g,pinCount:y,sectionCount:x,showEditorialBoardTag:"number"==typeof Z&&Z>=0,showPinCount:v,subtitle:2===U?J:q,tagTitle:K}),!!A&&(0,w.jsx)(u.A,{description:A,topicName:$})]}),!V&&(0,w.jsxs)(r.Fragment,{children:[G&&(0,w.jsx)(o.az,{marginBottom:2,children:(0,w.jsx)(d.Z7,{addCollaborators:!0,collaborators:X,onClick:S,role:"button",size:"sm"})}),G&&(0,w.jsx)(p.A,{boardId:k,iconSize:24,isBoardEmpty:!y,toolSize:72}),!G&&W&&(0,w.jsx)(h.A,{board:e,collaborator:(()=>{if(Q&&W)return i.find(e=>e.id!==W.id)})(),sponsor:W}),!G&&!W&&(0,w.jsxs)(o.so,{alignItems:"center",dataTestId:"collaborator-avatar-group-and-names-container",gap:2,children:[(0,w.jsx)(_.A,{avatarSize:"sm",board:e,displayedCollaborators:X,isBoardPreviewMode:n,nonDisplayedCollaboratorCount:b}),(0,w.jsxs)(o.KJ,{children:[C.bt("par ", "by ", "board.Headers.BoardHeader.BoardHeaderDetails.by", undefined, true),(0,w.jsx)(m.A,{board:e,collaborators:X,overflowNumber:b})]})]})]}),P&&(0,w.jsx)(z,{boardId:k,boardImage:O??"",boardName:t,boardUrl:L,isRequestedByMe:!!N,showPulsar:j,size:"lg",variant:"lego"})]})}var E=i(581931),k=i(855214),O=i(647846),F=i(910263);function D({board:e,boardName:t,collaborators:i,description:s,fullWidth:d=!1,handleShowCollabAndPermissionsModal:c,isArchived:u,isBoardPreviewMode:_,inRelocateBoardShareButtonExp:p,isOwnerOrCollaborator:h,isSecret:f,nonDisplayedCollaboratorCount:m,onCreatePincode:g,overFlowActionsButton:b,pinCount:y,sectionCount:x,setBoardPreviewMode:A,showPinCount:v,showPulsar:j,showJoinButton:P}){(0,r.useEffect)(()=>{(0,a.A)("BoardHeaderWithImage","/app/www/save/board/Headers/BoardHeader/BoardHeaderWithImage.tsx")},[]);let{featured_board_metadata:B,layout:S,header:C,owner:z}=e,{isSmallerImage:I,isSmallScreen:D}=(0,F.A)(),M=(0,n.A)(z?.id),L="automagical"===S,N=C?.large_image_url||null,R=B?.has_expanded_sections&&M&&A,H=()=>(0,w.jsxs)(o.so,{dataTestId:"board-actions-container",gap:2,children:[R&&!L&&(0,w.jsx)(k.A,{isBoardPreviewMode:_,setBoardPreviewMode:A}),!f&&!L&&(0,w.jsx)(O.A,{boardKey:{type:"Legacy",data:e},color:N?"default":"secondary",handleCreatePincode:g,hasBoardToolStyles:p,hasShadow:!!N,iconColor:"default",showTooltip:p}),(0,w.jsx)(o.az,{marginEnd:4,children:b})]}),U=()=>(0,w.jsx)(T,{board:e,boardName:t,collaborators:i,description:s,handleShowCollabAndPermissionsModal:c,isArchived:u,isBoardPreviewMode:_,isOwnerOrCollaborator:h,isSecret:f,nonDisplayedCollaboratorCount:m,pinCount:y,sectionCount:x,showJoinButton:P,showPinCount:v,showPulsar:j}),K=()=>N?(0,w.jsx)(E.A,{boardActions:H(),imageUrl:N,imageWidth:I?F.W:void 0}):H(),J=(0,w.jsxs)(o.so,{alignItems:D||!N||h&&!_?"start":"center",dataTestId:"board-header-with-image",direction:D&&N?"column":"row",gap:8*!!N,justifyContent:"between",children:[(0,w.jsx)(o.az,{children:D&&N?K():U()}),(0,w.jsx)(o.az,{maxWidth:D?550:void 0,children:D&&N?U():K()})]});return d?(0,w.jsx)(o.az,{paddingX:1,width:"100%",children:J}):(0,w.jsx)(l.A,{isGetServerRenderGridHeaderStyles:!0,maxColumns:5,children:J})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/53710.fr-2434d9db62bc1dd3.mjs.map